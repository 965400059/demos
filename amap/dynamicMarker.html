<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
		<script src="../js/mock-min.js" type="text/javascript" charset="utf-8"></script>
		<script src="http://webapi.amap.com/maps?v=1.3&key=您申请的key值"></script>
    	<script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
	</head>
	<body>
		<div id="container"></div>
		
		<script type="text/javascript">
			var map = new AMap.Map("container", {
		        resizeEnable: true,
		        center: [116.397428, 39.90923],
		        zoom: 6
		    });
		    
		 	setInterval(function(){	
		 		map.clearMap();
		  		var newVehicles = []
				for(var i=0;i<20;i++){
					newVehicles.push(Mock.mock({
						lng:'@float(100, 120, 4, 6)',
						lat:'@float(25, 40, 4, 6)',
						lineName:/\w{6}/
					}))
				}
				
				newVehicles.forEach(function(item,index){
			    	var marker = new AMap.Marker({
				        map: map,
		            	offset : new AMap.Pixel(-18, -18),
		            	position: [item.lng,item.lat],
		            	cursor: 'move',
		            	label:{offset: new AMap.Pixel(-20, -25),content: item.lineName}
				    });
	        		
			    })
			},1000)	
		</script>
	</body>
</html>
