!function(d,Q){"use strict";var g="ht",h=d[g],T="innerHTML",y="className",W=null,U="px",r=h.Default,P=r.getInternal(),m="0",o=function(){return document},V=function(K){return o().createElement(K)},D=function(){return V("canvas")},E=function(S,w,K){S.style.setProperty(w,K,W)},k=function(d,I,M){r.def(h.widget[d],I,M)},C=function(p,H){p.appendChild(H)},l=function(m,v){m.removeChild(v)},c=function(m,W,F,J){m.addEventListener(W,F,!!J)},L=function(e,U,J,B){e.removeEventListener(U,J,!!B)},Y=r.isTouchable;P.addMethod(r,{menuLabelFont:(Y?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),h.widget.Menu=function(Z){var x=this,c=x._view=P.createView(null,x),k=x.$1g=new h.widget.ContextMenu,l=V("ul");k._r=!0,k._view[y]+=" ht-widget-dropdownmenu",c[y]="ht-widget-menu",l[y]="header",E(c,"margin",m),E(c,"padding",m),E(c,"background",r.menuBackground),E(c,"-webkit-user-select","none"),E(c,"-moz-user-select","none"),E(c,"user-select","none"),E(c,"text-align","left"),E(c,"border-bottom",r.menuSeparatorWidth+"px solid "+r.menuSeparatorColor),E(c,"cursor","default"),E(c,"overflow","auto"),E(c,"white-space","nowrap"),E(c,"font",r.menuLabelFont),E(c,"color",r.menuLabelColor),E(c,"box-sizing","border-box"),E(c,"-moz-box-sizing","border-box"),E(l,"list-style","none"),E(l,"margin",m),E(l,"padding",m),E(l,"display","inline-block"),C(c,l),x.setItems(Z),x.$2g=function(R){x.$3g(R)},x.$4g=function(R){x.$5g(R)},x.$6g=function(W){x.$7g(W)},x.$8g=function(F){x.$9g(F)},x.$9b=function(c){x.$10g(c)},x._autoShow=!0,x.setAutoShow(!1),k.afterHide=function(){x.$11g()},k.afterShow=function(){x.$12g()},L(o(),"keydown",k.$3b),x.$3b=function(K){x.$13g(K)},x.invalidate()},k("Menu",Q,{_items:W,$14g:r.menuHoverBackground,$15g:r.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(z){var n=this;if(n.$21g=z,n.setItems(n._items),"largeicons"===z){for(var L=n._view.querySelectorAll(".header-item"),r=0,l=0;l<L.length;l++){var c=L[l];r=Math.max(r,c.clientWidth)}for(var l=0;l<L.length;l++){var c=L[l];E(c,"min-width",r+U)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(K){this.$22g=K;for(var d=this._view.querySelectorAll(".header-item"),b=0;b<d.length;b++){var A=d[b];E(A,"margin-left",K+U),E(A,"margin-right",K+U)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(J){this.$23g=J;for(var n=this._view.querySelectorAll(".header-item"),L=0;L<n.length;L++){var l=n[L];E(l,"margin-top",J+U),E(l,"margin-bottom",J+U)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(k){this.$24g=k,E(this._view,"text-align",k)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var y=this,i=y._enableGlobalKey;i===!1&&(c(o(),"keydown",y.$3b),y._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,L(o(),"keydown",this.$3b)},setHoverBackground:function($){this.$14g=$},setHoverColor:function(X){this.$15g=X},setItems:function(p){var w=this,k=w._view,d=w.$21g;if(w._items=p,k.children[0][T]="",w.$16g={},p&&p.length){for(var z=k.children[0],m=0,x=o().createDocumentFragment();m<p.length;m++){var R=p[m],t=V("li"),S=V("span");if(R.icon){var q=D();q[y]="menu-item-icon","smallicons"===d?(E(q,"height","1.2em"),E(q,"width","1.2em"),E(q,"vertical-align","middle")):(E(q,"height","32px"),E(q,"width","32px"),E(q,"display","block"),E(q,"margin","0 auto")),q.$20g=R.icon,C(t,q)}t[y]="header-item",E(t,"display","inline-block"),E(t,"vertical-align","top"),E(t,"padding","0 1.2em"),E(t,"line-height","1.8em"),"largeicons"===d&&E(t,"text-align","center"),E(t,"background-color","rgba(0,0,0,0)"),t.setAttribute("data-index",m),w.$16g[m]=R.items,S[T]=R.label,"iconsonly"!==d&&C(t,S),C(x,t)}C(z,x)}},showDropdownMenu:function(k){var N=this,M=N.$16g[k],z=N.$1g,W=N._view.children[0].children[k],w=N.$17g;if(W&&W!==w){w&&N.hideDropdownMenu();var u=W.getBoundingClientRect(),R=r.getWindowInfo();N.$17g=W,z.setItems(M),z.show(u.left+R.left,u.top+u.height+R.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(R,h){var Q=this,M=Q._items;return M&&0!==M.length?Q.$1g.getItemByProperty(R,h,M):W},$12g:function(){var Z=this,p=Z.$17g;p.style.background=Z.$14g,p.style.color=Z.$15g,Z._autoShow||c(o(),Y?"touchstart":"mousedown",Z.$9b)},$11g:function(){var $=this,I=$.$17g;I&&(I.style.background="",I.style.color="",$.$17g=W),L(o(),Y?"touchstart":"mousedown",$.$9b)},$10g:function(v){var $=this,C=$._view,y=$.$1g,g=C.children[0];!o().body.contains(C)||g.contains(v.target)||y._view.contains(v.target)||$.hideDropdownMenu()},$13g:function(z){var u=this,q=u.$1g;o().body.contains(u._view)&&q.$13b.$4b.call(q.$13b,z,u._items)},setAutoShow:function(m){var s=this,q=s.$1g,v=s._view;s._autoShow!==m&&(s._autoShow?(L(v,"mouseover",s.$2g),L(v,"mouseout",s.$4g),L(q._view,"mouseout",s.$4g),Y||(c(v,"mouseover",s.$8g),c(v,"mouseout",s.$8g)),c(v,Y?"touchstart":"mousedown",s.$6g)):(L(v,"mouseover",s.$8g),L(v,"mouseout",s.$8g),L(v,Y?"touchstart":"mousedown",s.$6g),L(o(),Y?"touchstart":"mousedown",s.$9b),Y||(c(v,"mouseover",s.$2g),c(v,"mouseout",s.$4g),c(q._view,"mouseout",s.$4g))),s._autoShow=m)},$3g:function(t){var V=this,p=V._view.children[0],I=t.target;if(p!==I&&p.contains(I)){for(;"header-item"!==I[y];)I=I.parentNode;V.showDropdownMenu(I.getAttribute("data-index"))}},$5g:function(F){var Z=this,g=Z._view.children[0],P=Z.$1g,$=F.target,j=F.relatedTarget;!g.contains($)&&!P._view.contains($)||g.contains(j)||P._view.contains(j)||Z.hideDropdownMenu()},$7g:function(l){l.preventDefault();var C=this,B=C._view.children[0],E=C.$1g,q=l.target;if(r.isLeftButton(l)&&B!==q&&B.contains(q))if(Y){for(;"header-item"!==q[y];)q=q.parentNode;var t=q.getAttribute("data-index"),E=C.$1g,G=C._view.children[0].children[t],M=C.$17g;E.isShowing()&&C.hideDropdownMenu(),G!==M&&C.showDropdownMenu(t)}else if(E.isShowing())C.hideDropdownMenu();else{for(;"header-item"!==q[y];)q=q.parentNode;C.showDropdownMenu(q.getAttribute("data-index"))}},$9g:function(J){var i=this,X=i._view,T=i.$1g,A=J.target;if(X.contains(A)){for(var I=X.querySelectorAll(".header-item"),w=W,B=0;B<I.length;B++){var h=I[B];h.style.background="",h.style.color="","mouseover"===J.type?h.contains(A)&&(w=h):"mouseout"===J.type&&T.isShowing()&&i.$17g===h&&(w=h)}T.isShowing()&&(w||(w=i.$17g),i.showDropdownMenu(w.getAttribute("data-index"))),w&&(w.style.background=i.$14g,w.style.color=i.$15g)}},getShowingMenuIndex:function(){var R=this.$17g;return R?R.getAttribute("data-index"):-1},addTo:function(k){var w=this,I=w._view;C(k,I),w.invalidate()},dispose:function(){var F=this,w=F._view,t=F.$1g;w&&(F._autoShow?(L(w,"mouseover",F.$2g),L(w,"mouseout",F.$4g),L(t._view,"mouseout",F.$4g)):(L(w,"mouseover",F.$8g),L(w,"mouseout",F.$8g),L(w,Y?"touchstart":"mousedown",F.$6g),L(o(),Y?"touchstart":"mousedown",F.$9b)),L(o(),"keydown",F.$3b),t.dispose(),w.parentNode&&l(w.parentNode,w),F._view=F.$1g=F.$16g=F._items=F.$17g=F.$2g=F.$4g=F.$6g=F.$8g=F.$9b=F.$3b=W)},$19g:function(j,p,b,_){var G=P.initContext(j);P.translateAndScale(G,0,0,1),G.clearRect(0,0,b,_),r.drawStretchImage(G,r.getImage(p),"fill",0,0,b,_),G.restore()},validateImpl:function(){var d,A,$,y=this,s=y._view,m=s.querySelectorAll(".menu-item-icon");for($=0;$<m.length;$++){var a=m[$];d=a.clientWidth,A=a.clientHeight,d&&A&&(P.setCanvas(a,d,A),y.$19g(a,r.getImage(a.$20g),d,A))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);