!function(o,d,N){"use strict";var I="ht",J=o[I],j=null,_=Math,O=_.PI,v=_.cos,Q=_.sin,W=_.abs,L=_.max,r=_.sqrt,T=1e-5,B=J.Default,n=B.def,D=B.startAnim,P=B.createMatrix,A=B.transformVec,G=B.getInternal(),t=G.addMethod,M=G.superCall,Y=G.toPointsArray,S=G.createNormals,k=G.toFloatArray,y=G.glMV,h=G.batchShape,c=G.createNodeMatrix,U=G.getFaceInfo,p=G.transformAppend,l=G.drawFaceInfo,$=G.createAnim,g=G.cube(),C=g.is,V=g.vs,b=g.uv,i=G.ui(),R=J.Node,q=J.Shape,E="h",z="v",K="front",w="back",H="left",s="right",m="top",x="bottom",u="dw.expanded",F=".expanded",a="dw.angle",e=".angle",f=function(u,z,F){n(I+"."+u,z,F)},X=function(O,K,w){w?O.push(K.x,K.y):O.push(K.x,K.y,K.z)},Z=[1,0,0],rp=function(f,V,q,Y){var M,$,X,y,P=0,A=[];if(Y)for(M=Y.length;M>P;P+=3)$=Y[P],X=Y[P+1],y=Y[P+2],A.push(new Ze([new oh([V[3*$],V[3*$+1],V[3*$+2]],Z,q?[q[2*$],q[2*$+1],0]:j),new oh([V[3*X],V[3*X+1],V[3*X+2]],Z,q?[q[2*X],q[2*X+1],0]:j),new oh([V[3*y],V[3*y+1],V[3*y+2]],Z,q?[q[2*y],q[2*y+1],0]:j)],f));else for(M=V.length;M>P;P+=3)$=P,X=P+1,y=P+2,A.push(new Ze([new oh([V[3*$],V[3*$+1],V[3*$+2]],Z,q?[q[2*$],q[2*$+1],0]:j),new oh([V[3*X],V[3*X+1],V[3*X+2]],Z,q?[q[2*X],q[2*X+1],0]:j),new oh([V[3*y],V[3*y+1],V[3*y+2]],Z,q?[q[2*y],q[2*y+1],0]:j)],f));return A},hm=[H,K,s,w,m,x],ub=hm.concat("csg"),fo=[0,6,12,18,24,30],ci=function(d,S,e){for(var F=c(d),q=[],r=0;6>r;r++)for(var Y=hm[r],a=fo[r],u=e?S.getFaceUv(d,Y):j,T=e?S.getFaceUvScale(d,Y):j,y=e?S.getFaceUvOffset(d,Y):j,_=0;2>_;_++){var s,w,Q,h=C[a+3*_],G=C[a+3*_+1],n=C[a+3*_+2];if(e){if(u){var N=8*r;s=[u[2*h-N],u[2*h+1-N],0],w=[u[2*G-N],u[2*G+1-N],0],Q=[u[2*n-N],u[2*n+1-N],0]}else s=[b[2*h],b[2*h+1],0],w=[b[2*G],b[2*G+1],0],Q=[b[2*n],b[2*n+1],0];T&&(s[0]*=T[0],s[1]*=T[1],w[0]*=T[0],w[1]*=T[1],Q[0]*=T[0],Q[1]*=T[1]),y&&(s[0]+=y[0],s[1]+=y[1],w[0]+=y[0],w[1]+=y[1],Q[0]+=y[0],Q[1]+=y[1])}q.push(new Ze([new oh(A([V[3*h],V[3*h+1],V[3*h+2]],F),Z,s),new oh(A([V[3*G],V[3*G+1],V[3*G+2]],F),Z,w),new oh(A([V[3*n],V[3*n+1],V[3*n+2]],F),Z,Q)],d))}return Gn.$15n(q)},Tc=function(z,M){var g,B=z.data.getAttaches();if(B&&B.each(function(d){d instanceof Tm&&d.s("attach.operation")&&(g||(g=[]),g.push(d))}),g){var R;hm.forEach(function(b){var m=rp(b,z[b].vs,z[b].tuv);R=R?R.concat(m):m}),R=Gn.$15n(R),g.forEach(function(c){var _=c.s("attach.operation");R[_]&&(R=R[_](ci(c,z.gv,z.csg.tuv)))}),hm.forEach(function(G){G=z[G],G.vs=[],G.tuv&&(G.tuv=[])}),R.$19n().forEach(function(k){var H=k.$10n;if(H instanceof Tm){if(H.s("attach.cull"))return;H="csg"}for(var D=z[H],i=D.vs,T=D.tuv,c=k.$9n,j=2;j<c.length;j++)X(i,c[0].$24n),X(i,c[j-1].$24n),X(i,c[j].$24n),T&&(X(T,c[0].uv,!0),X(T,c[j-1].uv,!0),X(T,c[j].uv,!0))})}ub.forEach(function(M){var N=z[M];N.visible&&N.vs.length?(N.ns=S(N.vs),k(N,"vs"),k(N,"tuv")):delete z[M]}),M&&(h(z,j,M),z.clear())};t(B,{createFrameModel:function(T,m,A,N){T=T==j?.07:T,m=m==j?T:m,A=A==j?T:A,N=N?N:{};var G=N.top,l=N.bottom,q=N.left,k=N.right,X=N.front,g=N.back,z=[],R=[];return X===!0?(z.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),R.push(0,0,0,1,1,1,1,1,1,0,0,0)):X===!1||(z.push(-.5,.5,.5,-.5,-.5,.5,-.5+T,-.5,.5,-.5+T,-.5,.5,-.5+T,.5,.5,-.5,.5,.5,.5-T,.5,.5,.5-T,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-T,.5,.5,-.5+T,.5,.5,-.5+T,.5-m,.5,.5-T,.5-m,.5,.5-T,.5-m,.5,.5-T,.5,.5,-.5+T,.5,.5,-.5+T,-.5+m,.5,-.5+T,-.5,.5,.5-T,-.5,.5,.5-T,-.5,.5,.5-T,-.5+m,.5,-.5+T,-.5+m,.5),R.push(0,0,0,1,T,1,T,1,T,0,0,0,1-T,0,1-T,1,1,1,1,1,1,0,1-T,0,T,0,T,m,1-T,m,1-T,m,1-T,0,T,0,T,1-m,T,1,1-T,1,1-T,1,1-T,1-m,T,1-m)),g===!0?(z.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),R.push(1,0,0,1,1,1,0,1,1,0,0,0)):g===!1||(z.push(-.5,.5,-.5,-.5+T,-.5,-.5,-.5,-.5,-.5,-.5+T,-.5,-.5,-.5,.5,-.5,-.5+T,.5,-.5,.5-T,.5,-.5,.5,-.5,-.5,.5-T,-.5,-.5,.5,-.5,-.5,.5-T,.5,-.5,.5,.5,-.5,-.5+T,.5,-.5,.5-T,.5-m,-.5,-.5+T,.5-m,-.5,.5-T,.5-m,-.5,-.5+T,.5,-.5,.5-T,.5,-.5,-.5+T,-.5+m,-.5,.5-T,-.5,-.5,-.5+T,-.5,-.5,.5-T,-.5,-.5,-.5+T,-.5+m,-.5,.5-T,-.5+m,-.5),R.push(1,0,1-T,1,1,1,1-T,1,1,0,1-T,0,T,0,0,1,T,1,0,1,T,0,0,0,1-T,0,T,m,1-T,m,T,m,1-T,0,T,0,1-T,1-m,T,1,1-T,1,T,1,1-T,1-m,T,1-m)),q===!0?(z.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),R.push(0,0,0,1,1,1,1,1,1,0,0,0)):q===!1||(z.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+A,-.5,-.5,-.5+A,-.5,.5,-.5+A,-.5,.5,-.5,-.5,.5,.5-A,-.5,-.5,.5-A,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-A,-.5,.5,-.5+A,-.5,.5-m,-.5+A,-.5,.5-m,.5-A,-.5,.5-m,.5-A,-.5,.5,.5-A,-.5,.5,-.5+A,-.5,-.5+m,-.5+A,-.5,-.5,-.5+A,-.5,-.5,.5-A,-.5,-.5,.5-A,-.5,-.5+m,.5-A,-.5,-.5+m,-.5+A),R.push(0,0,0,1,A,1,A,1,A,0,0,0,1-A,0,1-A,1,1,1,1,1,1,0,1-A,0,A,0,A,m,1-A,m,1-A,m,1-A,0,A,0,A,1-m,A,1,1-A,1,1-A,1,1-A,1-m,A,1-m)),k===!0?(z.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),R.push(1,0,0,1,1,1,0,1,1,0,0,0)):k===!1||(z.push(.5,.5,-.5,.5,-.5,-.5+A,.5,-.5,-.5,.5,-.5,-.5+A,.5,.5,-.5,.5,.5,-.5+A,.5,.5,.5-A,.5,-.5,.5,.5,-.5,.5-A,.5,-.5,.5,.5,.5,.5-A,.5,.5,.5,.5,.5,-.5+A,.5,.5-m,.5-A,.5,.5-m,-.5+A,.5,.5-m,.5-A,.5,.5,-.5+A,.5,.5,.5-A,.5,-.5+m,-.5+A,.5,-.5,.5-A,.5,-.5,-.5+A,.5,-.5,.5-A,.5,-.5+m,-.5+A,.5,-.5+m,.5-A),R.push(1,0,1-A,1,1,1,1-A,1,1,0,1-A,0,A,0,0,1,A,1,0,1,A,0,0,0,1-A,0,A,m,1-A,m,A,m,1-A,0,A,0,1-A,1-m,A,1,1-A,1,A,1,1-A,1-m,A,1-m)),G===!0?(z.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),R.push(1,1,1,0,0,0,0,0,0,1,1,1)):G===!1||(z.push(.5,.5,.5,.5,.5,-.5,.5-T,.5,-.5,.5-T,.5,-.5,.5-T,.5,.5,.5,.5,.5,-.5+T,.5,.5,-.5+T,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+T,.5,.5,.5-T,.5,.5,.5-T,.5,.5-A,-.5+T,.5,.5-A,-.5+T,.5,.5-A,-.5+T,.5,.5,.5-T,.5,.5,.5-T,.5,-.5+A,.5-T,.5,-.5,-.5+T,.5,-.5,-.5+T,.5,-.5,-.5+T,.5,-.5+A,.5-T,.5,-.5+A),R.push(1,1,1,0,1-T,0,1-T,0,1-T,1,1,1,T,1,T,0,0,0,0,0,0,1,T,1,1-T,1,1-T,1-A,T,1-A,T,1-A,T,1,1-T,1,1-T,A,1-T,0,T,0,T,0,T,A,1-T,A)),l===!0?(z.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),R.push(1,0,0,1,1,1,0,1,1,0,0,0)):l===!1||(z.push(.5,-.5,.5,.5-T,-.5,-.5,.5,-.5,-.5,.5-T,-.5,-.5,.5,-.5,.5,.5-T,-.5,.5,-.5+T,-.5,.5,-.5,-.5,-.5,-.5+T,-.5,-.5,-.5,-.5,-.5,-.5+T,-.5,.5,-.5,-.5,.5,.5-T,-.5,.5,-.5+T,-.5,.5-A,.5-T,-.5,.5-A,-.5+T,-.5,.5-A,.5-T,-.5,.5,-.5+T,-.5,.5,.5-T,-.5,-.5+A,-.5+T,-.5,-.5,.5-T,-.5,-.5,-.5+T,-.5,-.5,.5-T,-.5,-.5+A,-.5+T,-.5,-.5+A),R.push(1,0,1-T,1,1,1,1-T,1,1,0,1-T,0,T,0,0,1,T,1,0,1,T,0,0,0,1-T,0,T,A,1-T,A,T,A,1-T,0,T,0,1-T,1-A,T,1,1-T,1,T,1,1-T,1-A,T,1-A)),{vs:z,uv:R}}}),t(J.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":N,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":O/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),hm.forEach(function(G){var l={};l[G+F]=!1,l[G+".toggleable"]=!1,l[G+".axis"]=H,l[G+".start"]=0,l[G+".end"]=O/2,l[G+e]=0,t(J.Style,l,!0)});var Gn=function(){this.$4n=[]};Gn.$15n=function(V){var B=new Gn;return B.$4n=V,B},Gn.prototype={clone:function(){var P=new Gn;return P.$4n=this.$4n.map(function(I){return I.clone()}),P},$19n:function(){return this.$4n},union:function(c){var o=new pe(this.clone().$4n),x=new pe(c.clone().$4n);return o.$3n(x),x.$3n(o),x.$6n(),x.$3n(o),x.$6n(),o.$7n(x.$2n()),Gn.$15n(o.$2n())},subtract:function(H){var g=new pe(this.clone().$4n),Z=new pe(H.clone().$4n);return g.$6n(),g.$3n(Z),Z.$3n(g),Z.$6n(),Z.$3n(g),Z.$6n(),g.$7n(Z.$2n()),g.$6n(),Gn.$15n(g.$2n())},intersect:function(m){var j=new pe(this.clone().$4n),W=new pe(m.clone().$4n);return j.$6n(),W.$3n(j),W.$6n(),j.$3n(W),W.$3n(j),j.$7n(W.$2n()),j.$6n(),Gn.$15n(j.$2n())},inverse:function(){var O=this.clone();return O.$4n.map(function(R){R.flip()}),O}},Gn.cube=function(P){P=P||{};var k=new en(P.center||[0,0,0]),c=P.radius?P.radius.length?P.radius:[P.radius,P.radius,P.radius]:[1,1,1];return Gn.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(t){return new Ze(t[0].map(function(p){var B=new en(k.x+c[0]*(2*!!(1&p)-1),k.y+c[1]*(2*!!(2&p)-1),k.z+c[2]*(2*!!(4&p)-1));return new oh(B,new en(t[1]))}))}))},Gn.sphere=function(P){function $(l,B){l*=2*O,B*=O;var T=new en(v(l)*Q(B),v(B),Q(l)*Q(B));E.push(new oh(a.$20n(T.$21n(S)),T))}P=P||{};for(var E,a=new en(P.center||[0,0,0]),S=P.radius||1,C=P.slices||16,w=P.stacks||8,j=[],h=0;C>h;h++)for(var B=0;w>B;B++)E=[],$(h/C,B/w),B>0&&$((h+1)/C,B/w),w-1>B&&$((h+1)/C,(B+1)/w),$(h/C,(B+1)/w),j.push(new Ze(E));return Gn.$15n(j)},Gn.cylinder=function(S){function H(o,h,p){var N=2*h*O,y=M.$21n(v(N)).$20n(K.$21n(Q(N))),b=m.$20n(u.$21n(o)).$20n(y.$21n(i)),I=y.$21n(1-W(p)).$20n(k.$21n(p));return new oh(b,I)}S=S||{};for(var m=new en(S.start||[0,-1,0]),T=new en(S.end||[0,1,0]),u=T.$13n(m),i=S.radius||1,$=S.slices||16,k=u.$14n(),B=W(k.y)>.5,M=new en(B,!B,0).$12n(k).$14n(),K=M.$12n(k).$14n(),D=new oh(m,k.$11n()),o=new oh(T,k.$14n()),n=[],V=0;$>V;V++){var p=V/$,_=(V+1)/$;n.push(new Ze([D,H(0,p,-1),H(0,_,-1)])),n.push(new Ze([H(0,_,0),H(0,p,0),H(1,p,0),H(1,_,0)])),n.push(new Ze([o,H(1,_,1),H(1,p,1)]))}return Gn.$15n(n)};var en=function(r,o,t){var C=this;3==arguments.length?(C.x=r,C.y=o,C.z=t):"x"in r?(C.x=r.x,C.y=r.y,C.z=r.z):(C.x=r[0],C.y=r[1],C.z=r[2])};en.prototype={clone:function(){return new en(this.x,this.y,this.z)},$11n:function(){return new en(-this.x,-this.y,-this.z)},$20n:function(P){return new en(this.x+P.x,this.y+P.y,this.z+P.z)},$13n:function(Q){return new en(this.x-Q.x,this.y-Q.y,this.z-Q.z)},$21n:function(F){return new en(this.x*F,this.y*F,this.z*F)},$16n:function(n){return new en(this.x/n,this.y/n,this.z/n)},$23n:function(V){return this.x*V.x+this.y*V.y+this.z*V.z},lerp:function(N,c){return this.$20n(N.$13n(this).$21n(c))},length:function(){return r(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(a){var V=this;return new en(V.y*a.z-V.z*a.y,V.z*a.x-V.x*a.z,V.x*a.y-V.y*a.x)}};var oh=function(Q,w,u){var K=this;K.$24n=new en(Q),K.$22n=new en(w),K.uv=u?new en(u):null};oh.prototype={clone:function(){var c=this;return new oh(c.$24n.clone(),c.$22n.clone(),c.uv?c.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(K,W){var v=this;return new oh(v.$24n.lerp(K.$24n,W),v.$22n.lerp(K.$22n,W),v.uv?v.uv.lerp(K.uv,W):null)}};var ng=function(F,n){this.$22n=F,this.w=n};ng.$17n=function(z,G,h){var S=G.$13n(z).$12n(h.$13n(z)).$14n();return new ng(S,S.$23n(z))},ng.prototype={clone:function(){return new ng(this.$22n.clone(),this.w)},flip:function(){var s=this;s.$22n=s.$22n.$11n(),s.w=-s.w},$5n:function(m,G,L,v,E){for(var W=this,r=0,$=1,t=2,J=3,N=0,d=[],x=0;x<m.$9n.length;x++){var I=W.$22n.$23n(m.$9n[x].$24n)-W.w,f=-T>I?t:I>T?$:r;N|=f,d.push(f)}switch(N){case r:(W.$22n.$23n(m.$8n.$22n)>0?G:L).push(m);break;case $:v.push(m);break;case t:E.push(m);break;case J:for(var c=[],F=[],x=0;x<m.$9n.length;x++){var p=(x+1)%m.$9n.length,e=d[x],X=d[p],_=m.$9n[x],z=m.$9n[p];if(e!=t&&c.push(_),e!=$&&F.push(e!=t?_.clone():_),(e|X)==J){var I=(W.w-this.$22n.$23n(_.$24n))/W.$22n.$23n(z.$24n.$13n(_.$24n)),y=_.$18n(z,I);c.push(y),F.push(y.clone())}}c.length>=3&&v.push(new Ze(c,m.$10n)),F.length>=3&&E.push(new Ze(F,m.$10n))}}};var Ze=function(X,Z){var M=this;M.$9n=X,M.$10n=Z,M.$8n=ng.$17n(X[0].$24n,X[1].$24n,X[2].$24n)};Ze.prototype={clone:function(){var D=this.$9n.map(function(n){return n.clone()});return new Ze(D,this.$10n)},flip:function(){this.$9n.reverse().map(function(U){U.flip()}),this.$8n.flip()}};var pe=function(B){var v=this;v.$8n=null,v.front=null,v.back=null,v.$4n=[],B&&v.$7n(B)};pe.prototype={clone:function(){var K=this,W=new pe;return W.$8n=K.$8n&&K.$8n.clone(),W.front=K.front&&K.front.clone(),W.back=K.back&&K.back.clone(),W.$4n=K.$4n.map(function(O){return O.clone()}),W},$6n:function(){for(var g=this,s=0;s<g.$4n.length;s++)g.$4n[s].flip();g.$8n.flip(),g.front&&g.front.$6n(),g.back&&g.back.$6n();var k=g.front;g.front=g.back,g.back=k},$1n:function(d){var H=this;if(!H.$8n)return d.slice();for(var m=[],c=[],n=0;n<d.length;n++)H.$8n.$5n(d[n],m,c,m,c);return H.front&&(m=H.front.$1n(m)),c=H.back?H.back.$1n(c):[],m.concat(c)},$3n:function(R){var p=this;p.$4n=R.$1n(p.$4n),p.front&&p.front.$3n(R),p.back&&p.back.$3n(R)},$2n:function(){var I=this,n=I.$4n.slice();return I.front&&(n=n.concat(I.front.$2n())),I.back&&(n=n.concat(I.back.$2n())),n},$7n:function(o){var F=this;if(o.length){F.$8n||(F.$8n=o[0].$8n.clone());for(var d=[],H=[],_=0;_<o.length;_++)this.$8n.$5n(o[_],F.$4n,F.$4n,d,H);d.length&&(F.front||(F.front=new pe),this.front.$7n(d)),H.length&&(F.back||(F.back=new pe),F.back.$7n(H))}}};var Sk="symbol",Rc=J.Symbol=function(L,E,v){var V=this;M(Rc,V),V.s3(20,20,20),V.s({"all.visible":!1,shape:"rect"}),V.setIcon(L,E,v)};f("Symbol",R,{setIcon:function(E,x,w){var o,u=this;return Rc.superClass.setIcon.call(u,E),E?(o={for3d:!0,face:"center",position:44,names:[E]},w&&(o.transaprent=!0),x&&(o.autorotate=x),u.addStyleIcon(Sk,o)):u.removeStyleIcon(Sk),u.setWidth(G.getImageWidth(B.getImage(E),u)||20),o}});var Tm=J.CSGNode=function(){M(Tm,this),this.s({shape:"rect","attach.thickness":1.001})},Pm={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};f("CSGNode",R,{_22Q:function(){return tq},onPropertyChanged:function(l){var y=this,e=y.getHost();Tm.superClass.onPropertyChanged.call(y,l),Pm[l.property]&&(e instanceof eg||e instanceof Tm)&&e.fp("csgNodeChange",!0,!1)}});var tq=function(s,x){M(tq,this,[s,x])};n(tq,i.Node3dUI,{_80o:function($,e,Y){var C=this;C._shape3d?tq.superClass._80o.call(C,$,e,Y):(y(C.gv),ub.forEach(function(a){l(C,$,e,C[a],Y)}))},validate:function(r,j){var W=this,G=W.gv,Z=W.data;if(Z.s("shape3d"))return tq.superClass.validate.call(W,r,j),W._shape3d=!0,void 0;W._shape3d=!1;var v=c(Z,G.getMat(Z)),l=r&&r.uv;W.vf2("csg",l);for(var A=0;6>A;A++)for(var H=hm[A],O=fo[A],D=W.vf2(H,l,j),k=D.mat||v,d=D.vs,y=D.uv,B=D.tuv,Y=0;2>Y;Y++){var t=C[O+3*Y],m=C[O+3*Y+1],s=C[O+3*Y+2];if(p(d,k,[V[3*t],V[3*t+1],V[3*t+2]]),p(d,k,[V[3*m],V[3*m+1],V[3*m+2]]),p(d,k,[V[3*s],V[3*s+1],V[3*s+2]]),B)if(y){var X=8*A;B.push(y[2*t-X],y[2*t+1-X],y[2*m-X],y[2*m+1-X],y[2*s-X],y[2*s+1-X])}else B.push(b[2*t],b[2*t+1],b[2*m],b[2*m+1],b[2*s],b[2*s+1])}Tc(W,r,j)},vf2:function(P,Z,I){var F,$=this,T=$.gv.getFaceVisible($.data,P);return F=U($,P,I),F.vs=[],F.tuv=T&&(F.texture||Z)?[]:j,F.visible=T,F}});var eg=J.CSGShape=function(){var C=this;M(eg,C),C.s({"shape.background":j,"shape.border.width":8}),C.setTall(240),C.setElevation(120),C.setThickness(14)};f("CSGShape",q,{IRotatable:!1,_22Q:function(){return kc},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var kc=function($,w){M(kc,this,[$,w])};n(kc,i.Shape3dUI,{_80o:function(I,s,T){var t=this;t.undrawable||(y(t.gv),ub.forEach(function(V){l(t,I,s,t[V],T)}))},validate:function(E,d){var A=this,N=A.data,S=N.getPoints();if(A.undrawable=S.size()<2)return A.clear(),void 0;var v=N.isClosePath(),i=L(N._thickness/2,T),r=Y(S,j,j,v);ub.forEach(function(s){A.vf(s,E&&E.uv,!0,d)}),v&&(A.left.visible=!1,A.right.visible=!1),A._12O(r,i),A._20Q(r),Tc(A,E,d)}});var Tj=J.DoorWindow=function(){var I=this;M(Tj,I),I.setElevation(100),I.s3(100,200,14)};f("DoorWindow",Tm,{IDoorWindow:!0,toggle:function(g){this.setExpanded(!this.s(u),g)},isExpanded:function(){return this.s(u)},setExpanded:function(n,g){var X=this,Y=X.$25n,f=X.getDataModel(),e=X.s(u);if(Y&&(Y.stop(!0),delete X.$25n),e!==n){f&&f.beginTransaction();var H=n?X.s("dw.end"):X.s("dw.start");X.s(u,n),g=$(g),g?(e=X.s(a),g.action=function(Q){X.s(a,e+(H-e)*Q)},g.finishFunc=function(){f&&f.endTransaction()},X.$25n=D(g)):(X.s(a,H),f&&f.endTransaction())}},getMat:function(){var L=this,C=L.s("dw.s3"),h=L.s("dw.t3"),$=L.s("dw.flip"),Z=L.s(a);if(C||Z||h||$){var o=[];if($&&o.push({r3:[0,O,0]}),C&&o.push({s3:C}),Z){C=L.s3();var Y=L.s("dw.axis"),J=C[0]/2,l=C[1]/2;C[2]/2,Y===H?o.push({t3:[J,0,0]},{r3:[0,-Z,0]},{t3:[-J,0,0]}):Y===s?o.push({t3:[-J,0,0]},{r3:[0,Z,0]},{t3:[J,0,0]}):Y===m?o.push({t3:[0,-l,0]},{r3:[-Z,0,0]},{t3:[0,l,0]}):Y===x?o.push({t3:[0,l,0]},{r3:[Z,0,0]},{t3:[0,-l,0]}):Y===z?o.push({r3:[0,Z,0]}):Y===E&&o.push({r3:[Z,0,0]})}return h&&o.push({t3:h}),P(o)}return j}});var Ah=J.CSGBox=function(){var Z=this;M(Ah,Z),Z.setElevation(100),Z.s3(100,200,100)};f("CSGBox",Tm,{ICSGBox:!0,toggleFace:function(k,n){this.setFaceExpanded(k,!this.s(k+F),n)},isFaceExpanded:function(d){return this.s(d+F)},setFaceExpanded:function(m,l,J){var U=this,q=U.$25n,r=U.s(m+F);if(q&&(q.stop(!0),delete U.$25n),r!==l){var o=l?U.s(m+".end"):U.s(m+".start");U.s(m+F,l),J=$(J),J?(r=U.s(m+e),J.action=function(x){U.s(m+e,r+(o-r)*x)},U.$25n=D(J)):U.s(m+e,o)}},getFaceMat:function(J){var D=this,O=D.s(J+e);if(!O)return j;var Y=D.s(J+".axis"),l=D.s3(),i=l[0]/2,U=l[1]/2,Q=l[2]/2,R=[];return J===K&&(Y===H?R.push({t3:[i,0,-Q]},{r3:[0,-O,0]},{t3:[-i,0,Q]}):Y===s?R.push({t3:[-i,0,-Q]},{r3:[0,O,0]},{t3:[i,0,Q]}):Y===m?R.push({t3:[0,-U,-Q]},{r3:[-O,0,0]},{t3:[0,U,Q]}):Y===x?R.push({t3:[0,U,-Q]},{r3:[O,0,0]},{t3:[0,-U,Q]}):Y===z?R.push({t3:[0,0,-Q]},{r3:[0,O,0]},{t3:[0,0,Q]}):Y===E&&R.push({t3:[0,0,-Q]},{r3:[O,0,0]},{t3:[0,0,Q]})),J===w&&(Y===H?R.push({t3:[-i,0,Q]},{r3:[0,-O,0]},{t3:[i,0,-Q]}):Y===s?R.push({t3:[i,0,Q]},{r3:[0,O,0]},{t3:[-i,0,-Q]}):Y===m?R.push({t3:[0,-U,Q]},{r3:[O,0,0]},{t3:[0,U,-Q]}):Y===x?R.push({t3:[0,U,Q]},{r3:[-O,0,0]},{t3:[0,-U,-Q]}):Y===z?R.push({t3:[0,0,Q]},{r3:[0,O,0]},{t3:[0,0,-Q]}):Y===E&&R.push({t3:[0,0,Q]},{r3:[O,0,0]},{t3:[0,0,-Q]})),J===H&&(Y===H?R.push({t3:[i,0,Q]},{r3:[0,-O,0]},{t3:[-i,0,-Q]}):Y===s?R.push({t3:[i,0,-Q]},{r3:[0,O,0]},{t3:[-i,0,Q]}):Y===m?R.push({t3:[i,-U,0]},{r3:[0,0,-O]},{t3:[-i,U,0]}):Y===x?R.push({t3:[i,U,0]},{r3:[0,0,O]},{t3:[-i,-U,0]}):Y===z?R.push({t3:[i,0,0]},{r3:[0,O,0]},{t3:[-i,0,0]}):Y===E&&R.push({t3:[i,0,0]},{r3:[0,0,O]},{t3:[-i,0,0]})),J===s&&(Y===H?R.push({t3:[-i,0,-Q]},{r3:[0,-O,0]},{t3:[i,0,Q]}):Y===s?R.push({t3:[-i,0,Q]},{r3:[0,O,0]},{t3:[i,0,-Q]}):Y===m?R.push({t3:[-i,-U,0]},{r3:[0,0,O]},{t3:[i,U,0]}):Y===x?R.push({t3:[-i,U,0]},{r3:[0,0,-O]},{t3:[i,-U,0]}):Y===z?R.push({t3:[-i,0,0]},{r3:[0,O,0]},{t3:[i,0,0]}):Y===E&&R.push({t3:[-i,0,0]},{r3:[0,0,O]},{t3:[i,0,0]})),J===m&&(Y===H?R.push({t3:[i,-U,0]},{r3:[0,0,O]},{t3:[-i,U,0]}):Y===s?R.push({t3:[-i,-U,0]},{r3:[0,0,-O]},{t3:[i,U,0]}):Y===m?R.push({t3:[0,-U,Q]},{r3:[-O,0,0]},{t3:[0,U,-Q]}):Y===x?R.push({t3:[0,-U,-Q]},{r3:[O,0,0]},{t3:[0,U,Q]}):Y===z?R.push({t3:[0,-U,0]},{r3:[0,0,O]},{t3:[0,U,0]}):Y===E&&R.push({t3:[0,-U,0]},{r3:[O,0,0]},{t3:[0,U,0]})),J===x&&(Y===H?R.push({t3:[i,U,0]},{r3:[0,0,-O]},{t3:[-i,-U,0]}):Y===s?R.push({t3:[-i,U,0]},{r3:[0,0,O]},{t3:[i,-U,0]}):Y===m?R.push({t3:[0,U,-Q]},{r3:[-O,0,0]},{t3:[0,-U,Q]}):Y===x?R.push({t3:[0,U,Q]},{r3:[O,0,0]},{t3:[0,-U,-Q]}):Y===z?R.push({t3:[0,U,0]},{r3:[0,0,O]},{t3:[0,-U,0]}):Y===E&&R.push({t3:[0,U,0]},{r3:[O,0,0]},{t3:[0,-U,0]})),P(R)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);