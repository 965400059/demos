!function(t,M){"use strict";var O="ht",Q=t[O],g="px",N="left",L="top",d="bottom",n="right",f="innerHTML",S="className",P="",b="width",D="height",K="string",s="position",C="absolute",o="0",G="opacity",V="background",Y=Q.Default,h=Y.getInternal(),e=Q.Color,w=Y.animate,k=Y.isTouchable,E=null,I=(Math.sqrt,t.parseInt),r=t.setTimeout,J=(Math.round,e.titleIconBackground),Z=function(P){return typeof P===K||P instanceof String},m=function(){return document},a=function(l){return m().createElement(l)},x=function(){var U=a("div");return U.tabIndex=-1,U.style.outline="none",U},u=function(){return a("canvas")},B=function(y,r){z(y,"-webkit-transform",r),z(y,"-ms-transform",r),z(y,"transform",r)},z=function(X,z,d){X.style.setProperty(z,d,E)},W=function(D,g,b){Y.def(Q.widget[D],g,b)},i=function(M,r){M.appendChild(r)},p=function(){return m().documentElement},U=function(){return p().clientWidth},l=function(){return p().clientHeight},c=function(f,q,h,y){f.addEventListener(q,h,!!y)},$=function(J){var q=J.touches[0];return q?q:J.changedTouches[0]};h.addMethod(Y,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:J},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:J}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:J},{type:"rect",rect:[10,10,80,20],background:J}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:J},{type:"rect",rect:[10,34,56,14],background:J},{type:"rect",rect:[34,10,56,14],background:J},{type:"rect",rect:[82,10,8,56],background:J},{type:"rect",rect:[66,62,24,8],background:J}]},dialogTitleLabelColor:Y.labelSelectColor,dialogTitleLabelFont:(k?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:Y.labelFont,dialogTitleBackground:e.titleBackground,dialogHeaderBackground:e.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var q=function(t){var E=this;E.$1d=t,E.addListeners()};Y.def(q,M,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(n){var R=this,P=R.$1d,B=P.$6d,j=P._config,s=P.$7d,I=n,S=n.target;if(s.contains(S)||Y.preventDefault(n),Y.isLeftButton(n)){k&&(I=$(n));var D=R.$8d={x:I.pageX,y:I.pageY};R.$9d={x:D.x,y:D.y},!j.maximized&&j.draggable&&B.contains(S)&&(R.$4d=!0,Y.startDragging(R,n)),R.handle_mousemove(n)&&(R.$2d=!0,Y.startDragging(R,n)),s.contains(n.target)||P.$41d.focus()}},handle_mousedown:function(r){this.handle_touchstart(r)},handle_touchend:function(C){if(Y.isLeftButton(C)&&!this.$5d&&!this.$3d){var Z=this,A=Z.$1d,B=C.target,O=A._config,l=A.$18d,P=A.$16d;for(O.closable&&l.contains(B)&&A.hide(),O.maximizable&&P.contains(B)&&(O.maximized?A.restore():A.maximize());B&&(B.className||"").indexOf("dialog-button")<0;)B=B.parentNode;B&&B.buttonItem&&A.action&&A.action(B.buttonItem,C),delete Z.$8d,delete Z.$9d}},handle_mouseup:function(I){this.handle_touchend(I)},handleWindowTouchEnd:function(P){var c=this,u=c.$1d,o=u.$10d;c.$2d&&c.$3d?o.fire({kind:"endResize",target:u,originEvent:P}):c.$4d&&c.$5d&&o.fire({kind:"endMove",target:u,originEvent:P}),this.clear()},handleWindowMouseUp:function(n){this.handleWindowTouchEnd(n)},handle_mousemove:function(u){var C=this.$1d._config;if(C.maximized)return!1;if("w"!==C.resizeMode&&"h"!==C.resizeMode&&"wh"!==C.resizeMode)return!1;var R=this,H=R.getView(),G=H.querySelector(".resize-area"),O=G.getBoundingClientRect(),f={x:O.left,y:O.top,width:O.width,height:O.height};u=k?$(u):u;var K=u.clientX,F=u.clientY,Q={x:K,y:F};return Y.containsPoint(f,Q)?(z(H,"cursor","nwse-resize"),!0):(z(H,"cursor",P),void 0)},handleWindowTouchMove:function(o){o.preventDefault();var D=o;k&&(D=$(o));var v=this,W=v.$8d,p=v.$9d;if(!(p.x==W.x&&p.y==W.y&&Y.getDistance(p,{x:D.pageX,y:D.pageY})<=1)){var O=v.$1d,V=O._config,M=O.$21d,y=V.resizeMode||"wh",T=D.pageX-W.x,F=D.pageY-W.y;if(v.$2d){var b=M.offsetWidth,c=M.offsetHeight,d=b+T,t=c+F;if(d=Math.max(d,50),t=Math.max(t,50),"center"===V.position||V.position==E){var m={},w=M.getBoundingClientRect();m.x=w.left,m.y=w.top,V.position=m}"w"===y?(O.setSize(d,c),W.x+=d-b):"h"===y?(O.setSize(b,t),W.y+=t-c):"wh"===y&&(O.setSize(d,t),W.x+=d-b,W.y+=t-c),v.$3d?O.$10d.fire({kind:"betweenResize",target:O,originEvent:o}):(v.$3d=!0,O.$10d.fire({kind:"beginResize",target:O,originEvent:o}))}else if(v.$4d){var n=M.getBoundingClientRect(),K=n.width,f=n.height,u=U(),P=l(),q=I(M.style.left)||0,Z=I(M.style.top)||0,H=q+T,Q=Z+F,i=O.adjustPosition({x:H,y:Q},{width:K,height:f},{width:u,height:P});i&&(H=i.x,Q=i.y);var s=H-q,h=Q-Z;z(M,N,H+g),z(M,L,Q+g),W.x+=s,W.y+=h,V.position={x:H,y:Q},v.$5d?O.$10d.fire({kind:"betweenMove",target:O,originEvent:o}):(v.$5d=!0,O.$10d.fire({kind:"beginMove",target:O,originEvent:o}))}}},handleWindowMouseMove:function(O){this.handleWindowTouchMove(O)},handleWindowResize:function(){var Z=this,m=Z,q=m._config,x=m.$21d,J=U(),Q=l(),B=q.width,d=q.height,e=q.position||"center";q.maximized?(z(x,b,J+g),z(x,D,Q+g),z(x,L,o),z(x,N,o)):(z(x,b,B+g),z(x,D,d+g),"center"===e?(z(x,N,(J-B)/2+g),z(x,L,(Q-d)/2+g)):(z(x,N,e.x+g),z(x,L,e.y+g))),m.iv()},handle_mousewheel:function(J){J.stopPropagation()},handle_DOMMouseScroll:function(B){B.stopPropagation()}}),Q.widget.Dialog=function(V){var G=this,g=G._view=h.createView(null,G);g[S]="ht-widget-dialog",z(g,s,C),Y.baseZIndex!=E&&z(g,"z-index",Y.baseZIndex+"");var W=G.$11d=new q(G);G.bindingHandleWindowResize=W.handleWindowResize.bind(G),G.$10d=new Q.Notifier,V&&G.setConfig(V)},W("Dialog",M,{ms_v:1,setTitle:function(o){this._config.title=o,this.getView().querySelector(".dialog-container-title span").innerHTML=o},$31d:function(){var y=this,G=y.$6d=x(),F=y._config,r=y.$12d=y.$13d();G[S]="dialog-container-title",z(G,"cursor","default"),z(G,"white-space","nowrap"),z(G,"overflow","hidden"),z(G,"font",Y.dialogTitleLabelFont),z(G,V,F.titleBackground||Y.dialogTitleBackground),z(G,"color",F.titleColor||Y.dialogTitleLabelColor);var I=a("span"),P=y.$25d();if(F.titleAlign&&z(G,"text-align",F.titleAlign),F.titleIcon){var k=y.$14d=y.$15d();i(G,k)}if(F.title&&F.title.trim&&(F.title=F.title.trim()),I[f]=F.title||"&nbsp;",i(G,I),F.maximizable){var N=y.$16d=y.$17d();i(r,N)}if(F.closable){var T=y.$18d=y.$19d();i(r,T)}return i(G,r),z(G,"display","block"),z(G,"line-height",P+g),G},$13d:function(){var J=x();return z(J,s,C),z(J,N,o),z(J,n,5+g),z(J,L,o),z(J,d,o),z(J,"text-align",n),z(J,"white-space","nowrap"),J[S]="dialog-title-controls",J},$20d:function(){var l=this.$21d=x(),T=this._config,K=T.borderWidth;return z(l,s,"fixed"),z(l,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),z(l,"padding",o+" "+K+g+" "+K+g+" "+K+g),z(l,"box-sizing","border-box"),z(l,"-moz-box-sizing","border-box"),l[S]="dialog-container",z(l,V,T.titleBackground||Y.dialogTitleBackground),l},$22d:function(){var A,a=this,o=a._config,F=a.$7d=x(),X=o.content,h=0,M=o.contentPadding||0;o.buttons!=E&&o.buttons.length>0&&(h=32),Z(X)?F[f]=X:X.getView?(A=X.getView(),i(F,A)):(A=X,i(F,A)),z(F,s,C),z(F,"font",Y.dialogContentLabelFont),Q.Default.appendToScreen(F);var e=F.offsetWidth+1,l=F.offsetHeight,J=a.$25d();return o.width==E&&(o.width=e+10+2*M),o.height==E&&(o.height=l+J+h+5+2*M),Q.Default.removeHTML(F),A&&(z(A,"box-sizing","border-box"),z(A,"-moz-box-sizing","border-box"),z(A,b,"100%"),z(A,D,"100%")),F[S]="dialog-content",z(F,L,J+M+g),z(F,d,h+M+g),z(F,N,M+g),z(F,n,M+g),z(F,"overflow","hidden"),F},getOverlayDiv:function(){return this.$41d},$23d:function(){var v=this.$41d=x();return v[S]="dialog-overlay",z(v,b,"100%"),z(v,D,"100%"),z(v,s,"fixed"),z(v,L,o),z(v,N,o),z(v,V,"rgba(235, 235, 235, 0.7)"),v},_config:E,setSize:function(K,x){var L=this,$=L._config;$&&($.width=K,$.height=x,L.isShowing()&&(L.bindingHandleWindowResize(),L.iv()))},getConfig:function(){return this._config},$24d:function(){var v=this._config,H=v.titleIconSize||16;return k&&(H*=1.2),H},$25d:function(){var w=this._config,D=w.titleHeight||Y.widgetTitleHeight;return D},$26d:function(Q){z(Q,"cursor","pointer"),z(Q,"display","inline-block"),z(Q,"margin-right",(k?8:4)+g),z(Q,"vertical-align",L)},$27d:function(){var u=this.$30d=x(),Y=10;return k&&(Y=20),z(u,b,Y+g),z(u,D,Y+g),z(u,s,C),z(u,d,o),z(u,n,o),u[S]="resize-area",u},$15d:function(){var _=this,Q=u();Q[S]="dialog-title-control dialog-title-control-icon";var D=_.$25d(),O=_.$24d();return _.$26d(Q),h.setCanvas(Q,O,D),Q},$17d:function(){var U=u();U[S]="dialog-title-control dialog-title-control-maximize";var C=this.$25d(),A=this.$24d();return this.$26d(U),h.setCanvas(U,A,C),U},$19d:function(){var d=u();d[S]="dialog-title-control dialog-title-control-close";var C=this.$25d(),L=this.$24d();return this.$26d(d),h.setCanvas(d,L,C),d},$28d:function(){var y=x();return z(y,V,"white"),z(y,b,"100%"),z(y,D,"100%"),z(y,s,"relative"),y},$29d:function(){var $=this,I=x();z(I,"line-height",32+g),z(I,s,C),z(I,d,o),z(I,N,o),z(I,"white-space","nowrap"),z(I,"overflow","hidden"),z(I,n,o),z(I,V,Y.dialogHeaderBackground),I[S]="dialog-container-buttons";var T=this._config,O=T.buttonsAlign||n,u=0;return z(I,"text-align",O),$.$42d=[],T.buttons.forEach(function(h){var m=new Q.widget.Button,d=m.getView();d[S]="dialog-button "+h.className,d.buttonItem=h,$.$42d.push(m),m.setBorderColor(E),m.setBackground(Y.dialogButtonBackground),m.setSelectBackground(Y.dialogButtonSelectBackground),m.setLabelColor(Y.dialogButtonLabelColor),z(d,s,"relative"),z(d,"display","inline-block"),z(d,"text-align",N),z(d,"height",24+g);var c=k?10:5;O===N||O===n?z(d,"margin-"+O,c+g):0===u||z(d,"margin-"+N,c+g),z(d,"vertical-align","middle");var R=Y.getTextSize(m.getLabelFont(),h.label).width+10;m.onClicked=function(q){h.action&&h.action.call($,h,q)},m.setLabel(h.label),m.setDisabled(h.disabled),z(d,b,R+g),i(I,m.getView()),u++}),I},setConfig:function(e){if(e){var W=this,N=W._view;W._config=e,W.action=e.action,N[f]=P,e.borderWidth==E&&(e.borderWidth=5);var H=W.$23d(),b=W.$28d(),o=W.$31d(),m=W.$22d(),J=W.$20d(),Z=W.$30d=W.$27d();if(i(N,H),i(N,J),i(J,b),i(b,o),i(b,m),e.buttons!=E&&e.buttons.length>0){var F=W.$29d();i(b,F)}i(J,Z),e.maximized?(e.maximized=!1,W.bindingHandleWindowResize(),W.maximize(!0)):W.bindingHandleWindowResize(),W.isShowing()&&W.iv()}},hide:function(){var i=this,N=i.$21d,n=i.$41d,g=i._view;g[S]="ht-widget-dialog",w(N).duration(200).scale(.7).set(G,o).end(function(){i.onHidden&&i.onHidden(),Q.Default.removeHTML(g),i.$10d.fire({kind:"hide",target:i})}),w(n).duration(200).set(G,o).end(),t.removeEventListener("resize",i.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(M){this.$41d.style.display=M?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var h=this,V=h._config,M=h.$21d;B(M,P),h.iv(),V.maximized?h.$10d.fire({kind:"maximize",target:h}):h.$10d.fire({kind:"restore",target:h})},maximize:function(u){var x=this,J=x.$21d,$=x._config;if(!$.maximized){$.maximized=!0,x.$33d(),x.$16d[S]="dialog-title-control dialog-title-control-minimize";var Y=U(),R=l(),y=$.width,a=$.height,d=I(J.style.left)||0,O=I(J.style.top)||0;x.$36d=y,x.$37d=a,x.$34d=d,x.$35d=O;var B=u?0:200;w(J).duration(B).set(N,o).set(L,o).set(b,Y+g).set(D,R+g).end(function(){x.$32d()})}},restore:function(){var x=this,l=x.$34d,m=x.$35d,z=x.$36d,H=x.$37d,v=x._config;if(v.maximized&&(v.maximized=!1,x.$33d(),x.$16d[S]="dialog-title-control dialog-title-control-maximize",x.isShowing()&&l!=E&&m!=E&&z!=E&&H!=E)){var W=x.$21d;w(W).duration(200).set(N,l+g).set(L,m+g).set(b,z+g).set(D,H+g).end(function(){x.$32d()})}delete x.$34d,delete x.$35d,delete x.$36d,delete x.$37d},show:function(){var n=this,y=n._view,L=n._config,K=n.$21d,V=n.$41d;L&&L.zIndex!=E&&z(y,"z-index",L.zIndex+P),Q.Default.appendToScreen(y),B(K,"scale(0.7)"),z(K,G,o),n.iv(),n.validate(),n._view[S]+=" dialog-show",r(function(){w(K).duration(200).scale(1).set(G,"1").end(function(){z(K,b,K.clientWidth+g),z(K,D,K.clientHeight+g),n.onShown&&n.onShown(),n.$10d.fire({kind:"show",target:n})}),w(V).duration(200).set(G,"1").end(),c(t,"resize",n.bindingHandleWindowResize)},30)},setPosition:function(q){var z=this.$21d;z.style.left=q.x+"px",z.style.top=q.y+"px"},addEventListener:function(Y,N,_){this.$10d.add(Y,N,_)},removeEventListener:function(i,R){this.$10d.remove(i,R)},$38d:function(n,Z,U,t){var B=h.initContext(n);h.translateAndScale(B,0,0,1),B.clearRect(0,0,U,U);var P=(U-t)/2;Y.drawStretchImage(B,Y.getImage(Z),"fill",0,P,t,t),B.restore()},$33d:function(){var d=this,V=d._config,L=d.$16d,g=V.maximized?Y.dialogRestoreIcon:Y.dialogMaximizeIcon;if(L&&g){var p=d.$25d(),h=d.$24d();d.$38d(L,Y.getImage(g),p,h)}},$39d:function(){var M=this,d=M._config,n=M.$14d,f=d.titleIcon;if(n&&f){var T=M.$25d(),E=M.$24d();M.$38d(n,Y.getImage(f),T,E)}},$40d:function(){var w=this,r=w.$18d,u=Y.dialogCloseIcon;if(r&&u){var k=w.$25d(),Z=w.$24d();w.$38d(r,Y.getImage(u),k,Z)}},invalidate:function(g){var M=this,Q=M.$42d;M._68I||(M._68I=1,Y.callLater(M.validate,M,E,g),M.onInvalidated&&M.onInvalidated(),M.fireViewEvent("invalidate"));var _=M._config.content;_.invalidate&&_.invalidate(),Q&&Q.forEach(function(h){h.iv()})},validateImpl:function(){var r=this;r.$40d(),r.$33d(),r.$39d();var N=r._config.content;N.initView&&(N.setX(0),N.setY(0),N.setWidth(r.$7d.clientWidth),N.setHeight(r.$7d.clientHeight))},adjustPosition:function(S,F,R){var I=F.width,C=F.height,W=R.width,i=R.height,Z=S.x,d=S.y,r=this._config,O=r.minDragSize||20;return"inside"===r.dragMode?(Z+I>W&&(Z=W-I),d+C>i&&(d=i-C),0>Z&&(Z=0),0>d&&(d=0)):(null==r.dragMode||"none"===r.dragMode)&&(-I+O>Z&&(Z=-I+O),Z>W-O&&(Z=W-O),d>i-O&&(d=i-O),0>d&&(d=0)),{x:Z,y:d}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);