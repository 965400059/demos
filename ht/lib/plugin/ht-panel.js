!function(D,S,e){"use strict";var Y="ht",w=D[Y],Q=w.Default,X=Q.isTouchable,V=w.Color,Z="px",h="0",n="innerHTML",E="className",a="position",K="absolute",P="width",T="height",b="left",f="top",k="right",N="bottom",v="max-width",r="max-height",J=null,L="none",U="",M=D.parseInt,F=D.setTimeout,u=Q.getInternal(),l=Q.animate,R=V.titleIconBackground,C=function(){return document},O=function(v){return C().createElement(v)},i=function(){return O("div")},x=function(){return O("canvas")},g=function(v,k,z){v.style.setProperty(k,z,J)},I=function(p,R){return p.style.getPropertyValue(R)},W=function(W,G){W.appendChild(G)},d=function($,b){$.removeChild(b)},B=function($){var u=$.scrollWidth,e=$.scrollHeight;return $===C().body&&(u=Math.max(u,C().documentElement.scrollWidth),e=Math.max(e,C().documentElement.scrollHeight)),{width:u,height:e}},t=function(X){var q=X.touches[0];return q?q:X.changedTouches[0]};u.addMethod(Q,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:R,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:R}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:R},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:R}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:R},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:R}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:R},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:R},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:R},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:R}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:R},{type:"rect",rect:[10,118,268,56],background:R},{type:"rect",rect:[10,213,268,56],background:R}]},panelTitleLabelColor:Q.labelSelectColor,panelTitleLabelFont:Q.labelFont,panelContentLabelFont:Q.labelFont,panelTitleBackground:V.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:e},!0);var p=w.widget.Panel=function(H){var B=this,d=B._view=u.createView(null,B);B.$1i=0,B.$18i=new w.Notifier,B.$2i="leftTop",g(d,f,h),g(d,b,h),g(d,a,K),g(d,"overflow","hidden"),B._interactor=new _(B),B.setConfig(H),B.addEventListener(function(u){var s=B.getPanelConfig(u.id),X=s.content;("beginRestore"===u.kind||"betweenResize"===u.kind||"endToggle"===u.kind)&&(X&&X.invalidate&&X.invalidate(),s.items&&s.items.forEach(function(C){C&&C.content&&C.content.invalidate&&C.content.invalidate()}))})};Q.def(p,S,{ms_v:1,_dragContainment:"parent",setConfig:function(c){function X(p){p.expanded=!p.expanded,B.togglePanel(p.id,!0,!0)}if(c){var B=this,R=B._view.parentNode;B._view[n]=U,B._config=c,B.$35i=[],c.expanded==J&&(c.expanded=c.expand!=J?c.expand:!0);var t=B._view,w=B.$24i(c,t,!0),b=w[2],Q=c.width;B.$35i.push(w[1]),c.items&&c.items.forEach(function(D){D.expanded==J&&(D.expanded=D.expand!=J?D.expand:!0);var C=B.$24i(D,b.children[0]);B.$35i.push(C[1])});var l=i();g(l,P,10+Z),g(l,T,10+Z),g(l,a,K),g(l,N,h),g(l,k,h),l[E]="resize-area",W(t,l),B.$10i(),c.flowLayout&&g(t,a,"relative"),g(t,"opacity",h),W(C().body,t),Q==J&&(Q=t.offsetWidth),g(t,P,Q+Z),g(t,v,Q+Z);var G=c.content;G&&G.isSelfViewEvent&&(G.setX(0),G.setY(0),G.setWidth(Q-2*(c.borderWidth||0)),G.setHeight(c.contentHeight)),c.items&&c.items.forEach(function(m){X(m)}),c.buttons&&c.buttons.indexOf("toggle")<0||X(c),c.minimized==J&&c.minimize!=J&&(c.minimized=c.minimize),c.minimized&&c.minimizable!==!1&&B.minimize(!0),d(C().body,t),g(t,"opacity",U),R&&W(R,t),B.iv()}},getPanelConfig:function(L){var x=this,Z=x._config,T=Z.items;if(Z.id===L)return Z;if(T)for(var c=0;c<T.length;c++){var $=T[c];if($.id===L)return $}},getPanelView:function(A){for(var d=this,o=d.$35i,R=0;R<o.length;R++){var S=o[R],I=S.parentNode;if(I.$15i===A)return I}},setDragContainment:function(p){this._dragContainment=p},getDragContainment:function(){return this._dragContainment},$20i:function(){var R=this._config,n=R.restoreIconSize||24;return n},$5i:function(P){var x=P.titleIconSize||16;return X&&(x*=1.2),x},$4i:function(R){var T=R.titleHeight||Q.widgetTitleHeight;return T},setTitle:function(I,e){if(e==J&&(e=this._config.id),e!=J){var E=this.getPanelConfig(e),H=this.getPanelView(e);E.title=I,H.querySelector(".panel-title span").innerHTML=I}},setInnerPanel:function(z){var v,u,b=this,r=z.id,H=b.$35i,_=!1;if(z.expanded==J&&(z.expanded=!0),r!=J){var O=b.getPanelConfig(r);if(O){_=!0;var k,C=b.getPanelView(r),N=C.parentNode,Y=C.children[0];if(C!==b._view){b.$11i();for(k in O)delete O.key;for(k in z)O[k]=z[k];v=b.$24i(z,N,!1,C),u=v[1],N.removeChild(C);for(var W=0;W<H.length;W++)if(H[W]===Y){H.splice(W,1,u);break}b.$12i(),O.expanded=!O.expanded,b.togglePanel(O.id,!0,!0),b.iv()}}}if(!_){b.$11i(),v=b.$24i(z,b._view.children[1]),u=v[1],H.push(u),b._config.items||(b._config.items=[]);var y=b._config.items;if(y.push(z),b.$12i(),y.length>1){var m=y[y.length-2],s=b.getPanelView(m.id).children[0];g(s,"border-bottom",b.$55i(m))}z.expanded=!z.expanded,b.togglePanel(z.id,!0,!0),b.iv()}},removeInnerPanel:function(B){var L,D=this,x=-1,G=D._config.items;if(G)for(L=0;L<G.length;L++){var i=G[L];if(i.id===B){x=L;break}}if(D.$11i(),x>=0){var y=D.$35i,M=D.getPanelView(B),J=M.children[0];for(L=0;L<y.length;L++)if(y[L]===J){y.splice(L,1);break}G.splice(x,1),M.parentNode.removeChild(M)}if(D.$12i(),G.length>0){var O=G[G.length-1],I=D.getPanelView(O.id).children[0];g(I,"border-bottom",D.$55i(O))}},$6i:function(z){g(z,"cursor","pointer"),g(z,"display","inline-block"),g(z,"margin-right",(X?8:4)+Z),g(z,"vertical-align",f)},$24i:function(f,e,A,n){var O=this,S=O._config.flowLayout,t=A?e:i(),T=O.$50i(f),d=O.$3i(f,A);t[E]="ht-widget-panel"+(A?" outer-panel":" inner-panel"),f.borderWidth==J&&(f.borderWidth=A?2:0);var q=f.borderWidth;if(q="0 "+q+Z+" "+q+Z+" "+q+Z+" ",g(t,"padding",q),W(t,d),W(t,T),A||(n?e.insertBefore(t,n):W(e,t)),!S&&A&&f.minimizable!==!1){var N=x(),a=O.$20i(),G=f.restoreToolTip;u.setCanvas(N,a,a),N[E]="control-button button-minimize button-minimize-restore",O.$6i(N),g(N,"display","none"),W(e,N),N.title=G||""}var y=f.titleBackground||Q.panelTitleBackground;if(g(t,"background-color",y),f.id==J){for(var I=O.$1i++;O.getPanelConfig(I);)I=O.$1i++;f.id=I}return t.$15i=f.id,f.width&&(t.style.width=f.width+Z),[t,d,T]},$9i:function(Q){var K=x();K[E]="control-button button-toggle button-toggle-expand",K.title=Q.toggleToolTip||"";var i=this.$4i(Q),r=this.$5i(Q);return this.$6i(K),u.setCanvas(K,r,i),K},$8i:function(G){var _=x(),X="control-button button-independent-switch";_[E]=G.independent===!0?X+" button-independent-switch-on":X+" button-independent-switch-off",_.title=G.independentSwitchToolTip||"";var q=this.$4i(G),b=this.$5i(G);return this.$6i(_),u.setCanvas(_,b,q),_},$7i:function(O){var p=x();p[E]="control-button button-minimize button-minimize-minimize",p.title=O.minimizeToolTip||"";var A=this.$4i(O),Z=this.$5i(O);return this.$6i(p),u.setCanvas(p,Z,A),p},$55i:function(n){var s=this._config,t=s.items,R=n.separatorWidth||Q.panelSeparatorWidth,L=n.titleBackground||Q.panelTitleBackground,p=n.expanded!==!1?L:n.separatorColor||Q.panelSeparatorColor||Q.brighter(L);return(s===n||t&&t.indexOf(n)===t.length-1)&&(R=0),R+Z+" solid "+p},$3i:function(V,j){var Y=this,p=Y._config.flowLayout,q=i(),U=i(),c=Y.$4i(V),C=V.titleBackground,B=V.titleColor,F=V.titleIcon,L=V.buttons;if(q[E]="panel-title",g(q,a,"relative"),g(q,"background",C||Q.panelTitleBackground),g(q,"color",B||Q.panelTitleLabelColor),g(q,f,h),g(q,"box-sizing","border-box"),g(q,"-moz-box-sizing","border-box"),g(q,"padding","0 5px 0 0"),g(q,P,"100%"),g(q,"cursor","default"),g(q,"white-space","nowrap"),g(q,"font",Q.panelTitleLabelFont),F){var z=x();z[E]="control-button panel-title-icon";var S=Y.$4i(V),r=Y.$5i(V);Y.$6i(z),u.setCanvas(z,r,S),W(q,z)}var H=O("span");g(H,"display","inline-block"),g(H,"margin-left","5px"),H[n]="<span>"+V.title+"</span>",W(q,H),g(q,"line-height",c+Z),U[E]="panel-title-controls",g(U,a,K),g(U,b,h),g(U,k,5+Z),g(U,f,h),g(U,N,h),g(U,"text-align",k);var G=function(){var $=Y.$9i(V);W(U,$)},v=function(){if(!p&&j&&V.minimizable!==!1){var i=Y.$7i(V);W(U,i)}},d=function(){if(!j){var d=Y.$8i(V);W(U,d)}},T=function(k){var c=x();c[E]="control-button custombutton-"+k.name,c.title=k.toolTip||"",c._action=k.action;var I=Y.$4i(V),_=Y.$5i(V);Y.$6i(c),u.setCanvas(c,_,I),W(U,c)};if(L)for(var e=0;e<L.length;e++){var D=L[e];"string"==typeof D?"minimize"===D?v():"independentSwitch"===D?d():"toggle"===D&&G():"object"==typeof D&&T(D)}else v(),G();return W(q,U),q},$50i:function(h){var u=i(),s=h.contentHeight,R=i();if(g(R,a,"relative"),u[E]="panel-body",g(u,"overflow","hidden"),g(u,"background","white"),g(u,"font",Q.panelContentLabelFont),W(u,R),h.content){var V,M=h.content;M.getView?(W(R,M.getView()),V=R.children[0]):M instanceof Element?(W(R,M),V=R.children[0]):R[n]=M,M.isSelfViewEvent||V&&(g(V,P,"100%"),g(V,T,"100%")),s&&g(R,T,s+Z)}return u},$10i:function(){var n=this,c=n._config,v=n._view,z=v.querySelector(".resize-area").style;z.display=c.flowLayout||c.minimized===!0||c.expanded===!1?L:"block"},$11i:function(){var w=this._view,e=w.children[1];this.$13i>=0?this.$13i++:this.$13i=1,g(e,r,U),g(w,v,U)},$12i:function(){var I=--this.$13i;if(0===I){var t=this._view,W=t.children[1];g(W,r,W.scrollHeight+Z),g(t,v,t.offsetWidth+Z)}},$14i:function(){var r=this._view,o=r.children[0],l=o.children[1].children,j=this._config,v=0;r.$26i=r.offsetWidth,v+=o.children[0].offsetWidth,j.titleIcon&&(v+=o.children[1].offsetWidth,l=o.children[2].children);for(var O=0;O<l.length;O++){var d=l[O];v+=d.offsetWidth+5}r.$51i=v+15},togglePanel:function(S,Y,I){function R(m){var t=m.target,a=t.parentNode,d=q.getPanelConfig(a.$15i);delete a.$19i,t!==c&&q.$12i(),q.$18i.fire({kind:"endToggle",target:q,id:d.id})}for(var q=this,d=q._view,c=d.children[1],o=J,T=q.$35i,t=T.length,L=q._config.exclusive,F=q.$2i,z=[],x=q._config.narrowWhenCollapse,m=0;t>m;m++){var O=T[m],B=O.parentNode,H=B.$15i,A=q.getPanelConfig(H);H===S&&(o=B),!Y&&L&&A.expanded&&B!==d&&H!==S&&A.independent!==!0&&z.push(B)}if(o&&!o.$19i){o.$19i=!0;var p=o.children[1],e=o.querySelector(".button-toggle"),Q=q.getPanelConfig(o.$15i);if(!e)return;o===d||Q.expanded||Q.independent===!0||z.forEach(function(H){q.togglePanel(H.$15i,!0)}),o!==d&&q.$11i();var W=200;if(I&&(W=0),q.$18i.fire({kind:"beginToggle",target:q,id:o.$15i}),Q.expanded){var w=function(){e[E]="control-button button-toggle",e[E]+=F.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",g(p,P,p.clientWidth+Z),Q.expanded=!1,g(o.children[0],"border-bottom",q.$55i(Q)),l(p).duration(W).set("opacity",h).set(r,h).end(R),x&&o===d&&l(o).duration(W).set(v,o.$51i+Z).end(),o[E]+=" panel-collapse",l(o).duration(W).set("padding-bottom",h).end(),q.$28i(Q,!0),q.$10i()};x&&o===d&&q.$14i(),w()}else e[E]="control-button button-toggle",e[E]+=F.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",g(p,P,U),Q.expanded=!0,g(o.children[0],"border-bottom",q.$55i(Q)),l(p).duration(W).set("opacity","1").set(r,p.scrollHeight+Z).end(R),x&&o===d&&l(o).duration(W).set(v,(o.$26i||o.offsetWidth)+Z).end(),o[E]=o[E].replace(" panel-collapse",U),l(o).duration(W).set("padding-bottom",Q.borderWidth+Z).end(),q.$28i(Q,!0),q.$10i()}},$16i:function(){var u=this._view,e=u.$22i,w=u.$23i,v=this.$2i;return e==J&&(v.indexOf(b)>=0?e=u.$22i=0:v.indexOf(k)>=0&&(e=u.$22i=100)),w==J&&(v.indexOf("Top")>=0?w=u.$23i=0:v.indexOf("Bottom")>=0&&(w=u.$23i=100)),[e,w]},$25i:function(){var V=this,C=V._view,i=C.$21i,D=V.$20i(),n=V.$16i(),o=n[0],d=n[1],p=V.$2i;C.children[0].style.display=L,C.children[1].style.display=L,C.children[2].style.display=U,g(C,"padding",h),g(C,v,D+Z),"leftTop"===p?(g(C,b,M(I(C,b))+(i.width-D)*o/100+Z),g(C,f,M(I(C,f))+(i.height-D)*d/100+Z)):"leftBottom"===p?(g(C,b,M(I(C,b))+(i.width-D)*o/100+Z),g(C,N,M(I(C,N))+(i.height-D)*(1-d/100)+Z)):"rightTop"===p?(g(C,k,M(I(C,k))+(i.width-D)*(1-o/100)+Z),g(C,f,M(I(C,f))+(i.height-D)*d/100+Z)):"rightBottom"===p&&(g(C,k,M(I(C,k))+(i.width-D)*(1-o/100)+Z),g(C,N,M(I(C,N))+(i.height-D)*(1-d/100)+Z)),C[E]+=" panel-minimized",V.$18i.fire({kind:"endMinimize",target:V,id:C.$15i})},$17i:function(){var T=this,O=T._config,d=T._view;g(d,"-webkit-transform",U),g(d,"-ms-transform",U),g(d,"transform",U),O.minimized?T.$25i():(T.$18i.fire({kind:"endRestore",target:T,id:O.id}),d[E]=d[E].replace(" panel-minimized",U)),delete d.$19i},minimize:function(Z){var $=this,T=$._view;if(!T.$19i&&T.children[0].style.display!==L){var p=$._config,r=T.getBoundingClientRect(),x=$.$20i(),b=r.width,K=r.height,i=x/b,Q=x/K,A=$.$16i(),s=A[0],Y=A[1];T.$52i=i,T.$53i=Q,T.$21i=r,$.$18i.fire({kind:"beginMinimize",target:$,id:T.$15i});var n=200;Z&&(n=0),p.minimized=!0,T.$19i=!0,p.expanded&&(T.$26i=T.offsetWidth);var h=s+"% "+Y+"%";g(T,"-webkit-transform-origin",h),g(T,"-ms-transform-origin",h),g(T,"transform-origin",h),l(T).duration(n).scale(i,Q).end(function(){$.$17i()}),$.$10i()}},restore:function(){var r,a,R,h,W,P,$,_,V,m,E,H,X=this,K=X._view,Y=K.parentNode,Q=X._config;if(!K.$19i&&Q.minimized){var O=K.$21i,S=K.$52i,t=K.$53i,u=Q.borderWidth+Z,j=u,w=u,d=0,D=X.$20i(),A=B(Y),J=X.$2i;"leftTop"===J?(r=M(I(K,b)),R=M(I(K,f)),W=r,$=R,V=r+O.width-A.width,m=R+O.height-A.height,V>0&&(V>=r?r=0:r-=V),m>0&&(m>=R?R=0:R-=m),E=100*((W-r)/(O.width-D)),H=100*(($-R)/(O.height-D)),g(K,b,r+Z),g(K,f,R+Z)):"leftBottom"===J?(r=M(I(K,b)),h=M(I(K,N)),W=r,_=h,V=r+O.width-A.width,m=h+O.height-A.height,V>0&&(V>=r?r=0:r-=V),m>0&&(m>=h?h=0:h-=m),E=100*((W-r)/(O.width-D)),H=100*(1-(_-h)/(O.height-D)),g(K,b,r+Z),g(K,N,h+Z)):"rightTop"===J?(a=M(I(K,k)),R=M(I(K,f)),P=a,$=R,V=a+O.width-A.width,m=R+O.height-A.height,V>0&&(V>=a?a=0:a-=V),m>0&&(m>=R?R=0:R-=m),E=100*(1-(P-a)/(O.width-D)),H=100*(($-R)/(O.height-D)),g(K,k,a+Z),g(K,f,R+Z)):"rightBottom"===J&&(a=M(I(K,k)),h=M(I(K,N)),P=a,_=h,V=a+O.width-A.width,m=h+O.height-A.height,V>0&&(V>=a?a=0:a-=V),m>0&&(m>=h?h=0:h-=m),E=100*(1-(P-a)/(O.width-D)),H=100*(1-(_-h)/(O.height-D)),g(K,k,a+Z),g(K,N,h+Z)),K.children[0].style.display="block",K.children[1].style.display="block",K.children[2].style.display=L,g(K,"padding",d+" "+j+" "+w+" "+u),g(K,"-webkit-transform","scale("+S+", "+t+")"),g(K,"-ms-transform","scale("+S+", "+t+")"),g(K,"transform","scale("+S+", "+t+")"),K.$22i=E,K.$23i=H,g(K,"-webkit-transform-origin",E+"% "+H+"%"),g(K,"-ms-transform-origin",E+"% "+H+"%"),g(K,"transform-origin",E+"% "+H+"%"),Q.narrowWhenCollapse&&!Q.expanded?g(K,v,K.$51i+Z):g(K,v,K.$26i+Z),X.$18i.fire({kind:"beginRestore",target:X,id:K.$15i}),K.$19i=!0,Q.minimized=!1,F(function(){l(K).scale(1,1).end(function(){X.$17i()})},30),X.$10i()}},addEventListener:function(L,T,t){this.$18i.add(L,T,t)},removeEventListener:function(Q,B){this.$18i.remove(Q,B)},setPosition:function(e,v){var y=this._view,B=this.$2i;"leftTop"===B?(g(y,b,e+Z),g(y,f,v+Z),g(y,k,U),g(y,N,U)):"leftBottom"===B?(g(y,b,e+Z),g(y,N,v+Z),g(y,k,U),g(y,f,U)):"rightTop"===B?(g(y,k,e+Z),g(y,f,v+Z),g(y,b,U),g(y,N,U)):"rightBottom"===B&&(g(y,k,e+Z),g(y,N,v+Z),g(y,b,U),g(y,f,U)),delete y.$22i,delete y.$23i},getPosition:function(){var R=this._view,Y=this.$2i;return"leftTop"===Y?{x:M(I(R,b)),y:M(I(R,f))}:"leftBottom"===Y?{x:M(I(R,b)),y:M(I(R,N))}:"rightTop"===Y?{x:M(I(R,k)),y:M(I(R,f))}:"rightBottom"===Y?{x:M(I(R,k)),y:M(I(R,N))}:void 0},setPositionRelativeTo:function(p){var s=this,a=s._view.querySelectorAll(".button-toggle"),L="control-button button-toggle",Z=s.getPosition();s.$2i=p,s.setPosition(Z.x,Z.y);for(var M=0;M<a.length;M++){var Y=a[M],H=s.getPanelConfig(Y.parentNode.parentNode.parentNode.$15i);Y[E]=H.expanded?p.indexOf("Bottom")>=0?L+" button-toggle-collapse":L+" button-toggle-expand":p.indexOf("Bottom")>=0?L+" button-toggle-expand":L+" button-toggle-collapse"}s.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(D){var P=this;P._68I||(P._68I=1,Q.callLater(P.validate,P,J,D),P.onInvalidated&&P.onInvalidated(),P.fireViewEvent("invalidate"));var X=this._config,S=X.content;S&&S.invalidate&&S.invalidate(),X.items&&X.items.forEach(function(o){o&&o.content&&o.content.invalidate&&o.content.invalidate()})},getIconStretch:function(){var p=this._config.iconStretch||"fill";return p},$27i:function(H,G,n,K,T){var O=u.initContext(H);u.translateAndScale(O,0,0,1),O.clearRect(0,0,n,n);var L=(n-K)/2;Q.drawStretchImage(O,Q.getImage(G),this.getIconStretch(T),0,L,K,K),O.restore()},$28i:function(N){var U,J,y,l=this,c=N.id,w=l.getPanelView(c),i=w.querySelector(".button-toggle"),n=l.$2i.indexOf("Bottom")>=0;if(J=n?Q.panelCollapseIcon:Q.panelExpandIcon,y=n?Q.panelExpandIcon:Q.panelCollapseIcon,i){U=N.expanded?Q.getImage(y):Q.getImage(J);var d=l.$4i(N),_=l.$5i(N);l.$27i(i,U,d,_,"toggle")}},$29i:function($){var x,C=this,L=$.id,e=C.getPanelView(L),b=e.querySelector(".button-independent-switch"),n=Q.panelUnLockIcon,W=Q.panelLockIcon;if(b){x=$.independent!==!0?Q.getImage(W):Q.getImage(n);var i=C.$4i($),J=C.$5i($);C.$27i(b,x,i,J,"switch")}},$30i:function(a){var W=this,t=a.id,u=W.getPanelView(t),b=u.querySelector(".button-minimize-minimize"),L=Q.panelMinimizeIcon;if(b){var S=W.$4i(a),J=W.$5i(a);W.$27i(b,Q.getImage(L),S,J,"miminize")}},$31i:function(T){var m=this,u=T.id,X=m.getPanelView(u),p=X.querySelector(".button-minimize-restore"),s=T.titleIcon||Q.panelRestoreIcon;if(p){var R=m.$20i();m.$27i(p,Q.getImage(s),R,R,"restore")}},$32i:function(p){var x=this,v=p.id,E=x.getPanelView(v);if(p.buttons){var T=p.buttons;T.forEach(function(n){var y=n.name,o=n.icon;if(y&&o){var L=E.querySelector(".custombutton-"+y);if(L){var k=x.$4i(p),m=x.$5i(p)-1;x.$27i(L,Q.getImage(o),k,m,"custom")}}})}},$33i:function(q){var P=this,l=q.id,t=P.getPanelView(l),f=t.querySelector(".panel-title-icon"),X=q.titleIcon;if(f&&X){var _=P.$4i(q),L=P.$5i(q);P.$27i(f,Q.getImage(X),_,L,"title")}},validateImpl:function(){var t=this,y=t._config;t.$28i(y),t.$30i(y),t.$31i(y),t.$32i(y),t.$33i(y),y.items&&y.items.forEach(function(o){t.$28i(o),t.$29i(o),t.$32i(o)})}});var _=function(Y){var b=this,v=Y.getView();b.$34i=Y,b.addListeners(),v.addEventListener("dblclick",b.$42i.bind(b))};Q.def(_,S,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(Z){for(var c=this.$34i,L=Z.target,j=c.$35i,o=j.length,T=0;o>T;T++){var a=j[T];a.contains(L)&&(Z.preventDefault(),c.togglePanel(a.parentNode.$15i))}},handle_touchstart:function(O){var e=this,b=e.$34i,I=b._config,z=I.flowLayout,i=O;if(Q.preventDefault(O),Q.isLeftButton(O)){var G=O.target,n=b.getView().children[0],T=b.getView().querySelector(".button-minimize-restore");X&&(i=t(O));var C=e.$40i={x:i.pageX,y:i.pageY};e.$41i={x:C.x,y:C.y},(!z&&n.contains(G)||T&&T.contains(G))&&(e.$38i=!0,Q.startDragging(e,O)),!z&&e.handle_mousemove(O)&&(e.$37i=!0,Q.startDragging(e,O),b.$11i())}},handle_mousedown:function(c){this.handle_touchstart(c)},handle_touchend:function(h){var z=this,_=z.$34i,$=h.target,M=_.$35i,d=M.length,Y=0,V=_.getView(),g=V.querySelector(".button-minimize"),t=V.querySelector(".button-minimize-restore");if(!z.$39i&&!z.$36i){if(g&&g.contains($)||t&&t.contains($))h.preventDefault(),_._config.minimized?_.restore():_.minimize();else for(;d>Y;Y++){var I=M[Y],A=I.parentNode,k=A.$15i,u=_.getPanelConfig(k),Z=I.querySelector(".button-toggle"),K=I.querySelector(".button-independent-switch");if(Z===$)h.preventDefault(),_.togglePanel(k);else if(K===$){h.preventDefault();var m="button-independent-switch-off",P="button-independent-switch-on";u.independent=u.independent==J?!0:!u.independent,K[E]=u.independent?K[E].replace(m,P):K[E].replace(P,m),_.$29i(u)}else $[E]&&$[E].indexOf("control-button custombutton-")>=0&&I.contains($)&&$._action.call(_,u,_.getPanelView(k),h)}delete z.$40i,delete z.$41i}},handle_mouseup:function(c){this.handle_touchend(c)},handleWindowTouchEnd:function(){var m=this,t=m.$34i;m.$37i&&m.$36i?(t.$18i.fire({kind:"endResize",target:t,id:t.getView().$15i}),t.$12i()):m.$38i&&m.$39i&&t.$18i.fire({kind:"endMove",target:t,id:t.getView().$15i}),this.clear()},handleWindowMouseUp:function(z){this.handleWindowTouchEnd(z)},handle_mousemove:function(D){var q=this,z=q.getView(),A=z.querySelector(".resize-area"),i=A.getBoundingClientRect(),v={x:i.left,y:i.top,width:i.width,height:i.height};D=X?t(D):D;var I=D.clientX,L=D.clientY,c=q.$34i._config;return c.expanded&&c.minimized!==!0&&Q.containsPoint(v,{x:I,y:L})?(z.style.cursor="nwse-resize",!0):(z.style.cursor=U,void 0)},handleWindowTouchMove:function(A){A.preventDefault();var U=A;X&&(U=t(A));var O=this,Y=O.$40i,o=O.$41i;if(!(o.x==Y.x&&o.y==Y.y&&Q.getDistance(o,{x:U.pageX,y:U.pageY})<=1)){var n=O.$34i,p=O.getView(),K=p.parentNode,h=n._config,u=h.resizeMode||"wh",R=U.pageX-Y.x,d=U.pageY-Y.y,D=n.$2i;if(O.$37i){var F=p.children[1].children[0],C=p.clientWidth,c=F.clientHeight,L=C+R,z=c+d;L=Math.max(L,100),z=Math.max(z,100),"w"===u?(g(p,P,L+Z),h.width=L,Y.x+=L-C,D.indexOf(k)>=0&&g(p,k,M(I(p,k))-(L-C)+Z)):"h"===u?(g(F,T,z+Z),h.contentHeight=z,Y.y+=z-c,D.indexOf("Bottom")>=0&&g(p,N,M(I(p,N))-(z-c)+Z)):"wh"===u&&(g(p,P,L+Z),g(F,T,z+Z),h.width=L,h.contentHeight=z,Y.x+=L-C,Y.y+=z-c,D.indexOf("right")>=0&&g(p,k,M(I(p,k))-(L-C)+Z),D.indexOf("Bottom")>=0&&g(p,N,M(I(p,N))-(z-c)+Z));var J=h.content;J&&J.isSelfViewEvent&&(J.setX(0),J.setY(0),J.setWidth(h.width-2*(h.borderWidth||0)),J.setHeight(h.contentHeight)),O.$36i?n.$18i.fire({kind:"betweenResize",target:n,id:n.getView().$15i}):(O.$36i=!0,n.$18i.fire({kind:"beginResize",target:n,id:n.getView().$15i}))}else if(O.$38i){var v,m,s,S,x,W,j,H,a,G,y=p.getBoundingClientRect(),V=y.width,l=y.height,i=B(K),q=i.width,r=i.height,E=n._dragContainment;"leftTop"===D?(v=M(I(p,b))||0,s=M(I(p,f))||0,x=v+R,j=s+d,"parent"===E&&(x+V>q&&(x=q-V),j+l>r&&(j=r-l),0>x&&(x=0),0>j&&(j=0)),a=x-v,G=j-s,n.setPosition(x,j),Y.x+=a,Y.y+=G):"rightBottom"===D?(m=M(I(p,k))||0,S=M(I(p,N))||0,W=m-R,H=S-d,"parent"===E&&(0>W&&(W=0),0>H&&(H=0),W+V>q&&(W=q-V),H+l>r&&(H=r-l)),a=W-m,G=H-S,n.setPosition(W,H),Y.x-=a,Y.y-=G):"rightTop"===D?(m=M(I(p,k))||0,s=M(I(p,f))||0,W=m-R,j=s+d,"parent"===E&&(0>W&&(W=0),0>j&&(j=0),W+V>q&&(W=q-V),j+l>r&&(j=r-l)),a=W-m,G=j-s,n.setPosition(W,j),Y.x-=a,Y.y+=G):"leftBottom"===D&&(v=M(I(p,b))||0,S=M(I(p,N))||0,x=v+R,H=S-d,"parent"===E&&(0>x&&(x=0),0>H&&(H=0),x+V>q&&(x=q-V),H+l>r&&(H=r-l)),a=x-v,G=H-S,n.setPosition(x,H),Y.x+=a,Y.y-=G),O.$39i?n.$18i.fire({kind:"betweenMove",target:n,id:n.getView().$15i}):(O.$39i=!0,n.$18i.fire({kind:"beginMove",target:n,id:n.getView().$15i}))}}},handleWindowMouseMove:function(Z){this.handleWindowTouchMove(Z)}});var y=w.widget.PanelGroup=function(U){var g=this,F=g._view=u.createView(null,g);F.style.border="1px dashed black",F.style.position="absolute",F.style.background="rgba(120, 120, 120, 0.4)",g.$48i=new w.List,g._tolerance=100,g._config=U||{hGap:0,vGap:0},g.bindHandlePanelMove=g.handlePanelMove.bind(g),g.bindHandlePanelEvent=g.handlePanelEvent.bind(g),g.invalidate()};Q.def(y,S,{invalidate:function(){var K=this;K._68I||(K._68I=1,F(function(){K.validate()},50))},validate:function(){if(this._68I){delete this._68I;var n=this.$48i.get(0);if(n){var F=n.getView().parentNode;F&&(this.layoutPanels(F,"leftTop"),this.layoutPanels(F,"rightTop"),this.layoutPanels(F,"leftBottom"),this.layoutPanels(F,"rightBottom"))}}},setLeftTopPanels:function(){var s=this,v=s.$43i,Y=s.$48i;v==J&&(v=s.$43i=new w.List);for(var c=0;c<arguments.length;c++){var b=arguments[c];if("string"==typeof b)v.$49i=b;else{if(b._config.flowLayout)continue;b.setPositionRelativeTo("leftTop"),v.contains(b)||v.add(b),Y.contains(b)||s.add(b)}}},setRightTopPanels:function(){var T=this,P=T.$44i,i=T.$48i;P==J&&(P=T.$44i=new w.List);for(var H=0;H<arguments.length;H++){var K=arguments[H];if("string"==typeof K)P.$49i=K;else{if(K._config.flowLayout)continue;K.setPositionRelativeTo("rightTop"),P.contains(K)||P.add(K),i.contains(K)||T.add(K)}}},setLeftBottomPanels:function(){var e=this,x=e.$45i,l=e.$48i;x==J&&(x=e.$45i=new w.List);for(var L=0;L<arguments.length;L++){var B=arguments[L];if("string"==typeof B)x.$49i=B;else{if(B._config.flowLayout)continue;B.setPositionRelativeTo("leftBottom"),x.contains(B)||x.add(B),l.contains(B)||e.add(B)}}},setRightBottomPanels:function(){var Z=this,h=Z.$46i,C=Z.$48i;h==J&&(h=Z.$46i=new w.List);for(var q=0;q<arguments.length;q++){var v=arguments[q];if("string"==typeof v)h.$49i=v;else{if(v._config.flowLayout)continue;v.setPositionRelativeTo("rightBottom"),h.contains(v)||h.add(v),C.contains(v)||Z.add(v)}}},add:function(Z){if(!Z._config.flowLayout){var c=this,W=c.$48i;W.contains(Z)||(Z.addEventListener(c.bindHandlePanelMove),Z.addEventListener(c.bindHandlePanelEvent),W.add(Z))}},remove:function(Y){var A=this,_=A.$48i;_.contains(Y)&&(Y.removeEventListener(A.bindHandlePanelMove),Y.removeEventListener(A.bindHandlePanelEvent),_.remove(Y),A.$43i.contains(Y)&&A.$43i.remove(Y),A.$44i.contains(Y)&&A.$44i.remove(Y),A.$45i.contains(Y)&&A.$45i.remove(Y),A.$46i.contains(Y)&&A.$46i.remove(Y))},layoutPanels:function(c,R,I){var r=this,S=r._config,W=S.hGap||0,m=S.vGap||0;if(c){var d=r.$43i;if("leftBottom"===R?d=r.$45i:"rightTop"===R?d=r.$44i:"rightBottom"===R&&(d=r.$46i),!d)return;var H=d.$49i,l=W,z=m;if(c.contains(r._view)&&c.removeChild(r._view),d&&d.size()>0)for(var T=0;T<d.size();T++){var L=d.get(T),y=L.getView();c=c||y.parentNode,I!==T?L.setPosition(l,z):("leftTop"===R?(r._view.style.right="",r._view.style.bottom="",r._view.style.left=l+Z,r._view.style.top=z+Z):"leftBottom"===R?(r._view.style.right="",r._view.style.top="",r._view.style.left=l+Z,r._view.style.bottom=z+Z):"rightTop"===R?(r._view.style.left="",r._view.style.bottom="",r._view.style.right=l+Z,r._view.style.top=z+Z):"rightBottom"===R&&(r._view.style.left="",r._view.style.top="",r._view.style.right=l+Z,r._view.style.bottom=z+Z),r._view.style.width=y.offsetWidth+Z,r._view.style.height=y.offsetHeight+Z,c.insertBefore(r._view,y)),"h"===H?l+=y.offsetWidth+W:"v"===H&&(z+=y.offsetHeight+m)}}},handlePanelEvent:function(o){if("beginToggle"===o.kind||"endToggle"===o.kind||"beginRestore"===o.kind||"endMinimize"===o.kind||"endResize"===o.kind){var s=this,W=o.target,p=W.getView(),A=p.parentNode,K=s.$43i,g=s.$44i,e=s.$45i,c=s.$46i,f=s._config,L=J,V=J,y=W.$47i;if(y==J&&(y=W.$47i=0),"beginToggle"===o.kind?y=W.$47i=y+1:"endToggle"===o.kind&&(y=W.$47i=y-1),K&&K.contains(W)?(L="leftTop",V=K):e&&e.contains(W)?(L="leftBottom",V=e):g&&g.contains(W)?(L="rightTop",V=g):c&&c.contains(W)&&(L="rightBottom",V=c),"beginToggle"===o.kind&&L&&1===y){var h=i(),k=h.style,G=V.$49i,E="each";k.fontSize="0",k.position="absolute",k.width="100%","leftTop"===L?(k.left=0,k.top=0):"leftBottom"===L?(k.left=0,k.bottom=0,"v"===G&&(E="reverseEach")):"rightTop"===L?(k.right=0,k.top=0,k.textAlign="right","h"===G&&(E="reverseEach")):"rightBottom"===L&&(k.right=0,k.bottom=0,k.textAlign="right",E="reverseEach"),V[E](function(m){var x=m.getView(),X=x.style,k=i();X.position="static",k.style.textAlign="left",k.style.position="relative",k.style.display="inline-block","leftTop"===L?(k.style.marginLeft=f.hGap+Z,k.style.marginTop=f.vGap+Z):"leftBottom"===L?(k.style.marginLeft=f.hGap+Z,k.style.marginBottom=f.vGap+Z):"rightTop"===L?(k.style.marginRight=f.hGap+Z,k.style.marginTop=f.vGap+Z):"rightBottom"===L&&(k.style.marginRight=f.hGap+Z,k.style.marginBottom=f.vGap+Z),k.appendChild(x),h.appendChild(k),"h"===G?k.style.verticalAlign="leftTop"===L||"rightTop"===L?"top":"bottom":h.appendChild(O("br"))}),s.$54i=h,A.appendChild(h)}else"endToggle"===o.kind&&L&&0===y?F(function(){A=A.parentNode.parentNode,A.removeChild(s.$54i),delete s.$54i,V.each(function(i){var y=i.getView(),d=y.style;d.position="absolute",A.appendChild(y)}),s.layoutPanels(A,L)},30):("beginRestore"===o.kind||"endMinimize"===o.kind||"endResize"===o.kind)&&L&&s.layoutPanels(A,L)}},handlePanelMove:function($){if(!($.kind.indexOf("Move")<0)){var h=this,R=h._config,W=R.hGap||0,l=R.vGap||0,r=$.target,D=r._view,E=D.getBoundingClientRect(),C=E.width,_=E.height,y=C/2,e=_/2,T=D.parentNode,Q=h.$43i,Y=h.$44i,o=h.$45i,H=h.$46i,O=T.getBoundingClientRect(),g=h._tolerance;if("endMove"===$.kind){var j=h._corner;j&&(r.setPositionRelativeTo(j),h.layoutPanels(T,j)),delete h._corner}if("betweenMove"===$.kind){var A=O.left,z=O.top,t=O.width,V=O.height,B=E.left+C/2,d=E.top+_/2;Q==J&&(Q=h.$43i=new w.List),o==J&&(o=h.$45i=new w.List),Y==J&&(Y=h.$44i=new w.List),H==J&&(H=h.$46i=new w.List),delete h._corner,Q.contains(r)?(Q.remove(r),h.layoutPanels(T,"leftTop")):o.contains(r)?(o.remove(r),h.layoutPanels(T,"leftBottom")):Y.contains(r)?(Y.remove(r),h.layoutPanels(T,"rightTop")):H.contains(r)&&(H.remove(r),h.layoutPanels(T,"rightBottom"));var b=function(Q,b){var L=A+W,p=z+l;if(0===b.size()){var C=L+y,x=p+e;"leftBottom"===Q?x=z+V-l-e:"rightTop"===Q?C=A+t-W-y:"rightBottom"===Q&&(C=A+t-W-y,x=z+V-l-e);var n=B-C,I=d-x,X=Math.sqrt(n*n+I*I);if(g>X)return h._corner=Q,b.add(r),h.layoutPanels(T,Q,0),!0}else if(1===b.size()){var G=b.get(0),v=G.getView().getBoundingClientRect(),j=v.left+y,q=v.top+e,Z=v.left+v.width+W+y,c=p+e,E=L+y,$=v.top+v.height+l+e;"leftBottom"===Q?(q=v.top+v.height-e,c=z+V-l-e,$=v.top-l-e):"rightTop"===Q?(j=v.left+v.width-y,Z=v.left-W-y,E=A+t-W-y):"rightBottom"===Q&&(j=v.left+v.width-y,q=v.top+v.height-e,Z=v.left-W-y,c=z+V-l-e,E=A+t-W-y,$=v.top-l-e);var w=B-j,Y=d-q,R=B-Z,m=d-c,o=B-E,P=d-$,u=M(Math.sqrt(w*w+Y*Y)),k=M(Math.sqrt(R*R+m*m)),f=M(Math.sqrt(o*o+P*P)),F=[u,k,f];F.sort(function(J,D){return J-D});var i=F[0];if(g>i){if(h._corner=Q,i===u)return b.add(r,0),h.layoutPanels(T,Q,0),!0;if(i===k)return b.add(r),b.$49i="h",h.layoutPanels(T,Q,1),!0;if(i===f)return b.add(r),b.$49i="v",h.layoutPanels(T,Q,1),!0}}else if(b.size()>1){for(var D=J,s={},K=[],a=b.$49i,O=0;O<b.size();O++){var N=b.get(O),U=N.getView(),_=U.getBoundingClientRect(),H=_.left+y,S=_.top+e;"leftBottom"===Q?S=_.top+_.height-e:"rightTop"===Q?H=_.left+_.width-y:"rightBottom"===Q&&(H=_.left+_.width-y,S=_.top+_.height-e),O===b.size()-1&&(D=_);var n=B-H,I=d-S,X=M(Math.sqrt(n*n+I*I));s[X]=O,K.push(X)}"leftTop"===Q&&"h"===a?(C=D.left+D.width+W+y,x=p+e):"leftTop"===Q&&"v"===a?(C=L+y,x=D.top+D.height+l+e):"leftBottom"===Q&&"h"===a?(C=D.left+D.width+W+y,x=z+V-l-e):"leftBottom"===Q&&"v"===a?(C=L+y,x=D.top-l-e):"rightTop"===Q&&"h"===a?(C=D.left-W-y,x=p+e):"rightTop"===Q&&"v"===a?(C=A+t-W-y,x=D.top+D.height+l+e):"rightBottom"===Q&&"h"===a?(C=D.left-W-y,x=z+V-l-e):"rightBottom"===Q&&"v"===a&&(C=A+t-W-y,x=D.top-l-e),n=B-C,I=d-x,X=M(Math.sqrt(n*n+I*I)),s[X]=O,K.push(X),K.sort(function(x,w){return x-w});var i=K[0];if(g>i)return h._corner=Q,b.add(r,s[i]),h.layoutPanels(T,Q,s[i]),!0}};b("leftTop",Q)||b("leftBottom",o)||b("rightTop",Y)||b("rightBottom",H)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);